---
title: 'Pas à pas: Application vidéo simple utilisant le SDK natif pour Android' la
description: Dans cette rubrique, vous utiliserez Android Studio et le Brightcove Player SDK pour Android pour créer une application qui lit une vidéo à partir d'un compte Brightcove Video Cloud, ainsi que des vidéos à partir d'une liste de lecture Brightcove Video Cloud.
parent: Basics 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>

<p>Après avoir terminé ce Quick Start, vous devriez être capable de :</p>

<ul class="BCL_objectivesList">
	<li>Créez un projet et ajoutez le Brightcove Player SDK pour Android à l'aide de Gradle.</li>
	<li>Modifiez la mise en page pour inclure un <code translate="No">BrightcoveExoPlayerVideoView</code>.</li>
	<li>Ajouter au <code translate="No">onCreate()</code> méthode pour lire des vidéos<span class="player-only">.</span><span class="video-cloud-only"> provenant de différentes sources.</span></li>
</ul>

<aside class="bcls-aside bcls-aside--tip">Remarques:
<ul>
	<li>Cet exemple utilise le <code translate="No">BrightcoveExoPlayerVideoView</code> , qui est la vue recommandée à utiliser dans la plupart des cas. Si vous pensez avoir besoin d'utiliser une vue différente, consultez le <a href="/android/basics/android-choosing-video-view.html">Choisir une BaseVideoView</a> document.</li>
	<li class="video-cloud-only">Cet exemple utilise le <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">API de lecture Brightcove</a>. Il s'agit de l'API la plus récente et recommandée pour récupérer le contenu de votre bibliothèque Video Cloud.</li>
</ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="Audience">Public</h2>

<p>Les développeurs qui utilisent Android Studio pour le développement et qui souhaitent utiliser le Brightcove Player SDK pour Android dans une application Android.</p>
</section>

<section class="bcls-section">
<h2 id="Prerequisites">Conditions préalables</h2>

<p>Une connaissance minimale du développement d'applications Java et Android.</p>
</section>

<section class="bcls-section">
<h2 id="Get_ready">Sois prêt</h2>

<p>Préparez-vous pour le développement en installant Android Studio</p>

<ol class="bcls-tasklist">
	<li>Téléchargez le <a href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a> application.</li>
	<li>Suivez les instructions sur les pages pour installer l'application.</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_a_project">Créer un projet</h2>

<p>Créez un projet dans Android Studio, puis connectez-vous au SDK du lecteur à l'aide de Gradle.</p>

<h3>Créer un projet dans Android Studio</h3>

<ol class="bcls-tasklist-restart">
	<li>Ouvrez Android Studio.
	<ul>
		<li>Si c'est la première fois que vous ouvrez Android Studio, sélectionnez <strong>Démarrer un nouveau projet Android Studio</strong>.</li>
		<li>Si vous voyez les menus, sélectionnez <strong>Fichier &gt; Nouveau &gt; Nouveau projet</strong>.</li>
	</ul>
	</li>
	<li>Dans le <strong>Choisissez votre projet</strong> fenêtre, sélectionnez <strong>Activité vide</strong> et cliquez <strong>Prochain</strong>.
	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Choose Empty Activity" src="/assets/images/android/step-by-step/empty-activity.png" />
	<figcaption class="bcls-caption--image">Choisissez une activité vide</figcaption>
	</figure>
	</li>
	<li>
	<p>Fournir des valeurs pour le <strong>Nom</strong> , <strong>Nom du paquet</strong> , <strong>Langue</strong> , et <strong>Enregistrer l'emplacement</strong>. Dans ce démarrage rapide, les valeurs indiquées ci-dessous sont utilisées :</p>

	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Project name" src="/assets/images/android/step-by-step/studioqs-new-project.png" />
	<figcaption class="bcls-caption--image">Valeurs du projet</figcaption>
	</figure>
	</li>
	<li>Cliquez sur <strong>Finir</strong>.</li>
	<!-- <li>
	<p>Select the <strong>Phone and Tablet</strong> platform with the default minimum SDK value.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Project platform" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/getting-started/studio-quick-start/studioqs-platform.png" />
	<figcaption class="bcls-caption--image">Project platform</figcaption>
	</figure>
	</li>
	<li>Click <strong>Next</strong>.</li>
	<li>
	<p>Accept the defaults for the activity details and click <strong>Finish</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Finish project creation" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/getting-started/studio-quick-start/studioqs-activity-class.png" />
	<figcaption class="bcls-caption--image">Finish project creation</figcaption>
	</figure>
	</li> -->
	<li>
	<p>Android Studio fonctionnera pendant un certain temps et affichera éventuellement l'état initial du projet.</p>

	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Studio project" src="/assets/images/android/step-by-step/studioqs-project-start.png" />
	<figcaption class="bcls-caption--image">Projet d'atelier</figcaption>
	</figure>
	</li>
</ol>

<h3>Utilisez Gradle pour créer un lien vers le Brightcove Player SDK pour Android</h3>

<p>Étant donné que Gradle est intégré à Android Studio, vous l'utiliserez pour ajouter le SDK natif pour Android à votre projet.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Élargir la <strong>Scripts de Gradle</strong> section et ouvrez la deuxième <code translate="No">build.gradle</code> fichier, qui est associé au module actuel dans votre projet PlayVideos.</p>

	<figure class="bcls-figure"><img width="450" class="bcls-image--no-border" alt="Build gradle file" src="/assets/images/android/step-by-step/studioqs-gradle-file.png" />
	<figcaption class="bcls-caption--image">Construire le fichier gradle</figcaption>
	</figure>
	</li>
	<li>
	<p>Dans le <code translate="No">build.gradle</code> fichier, procédez comme suit :</p>

	<ol>
		<li>Dans le <code translate="No">android</code> section, ajoutez ce qui suit <code translate="No">compileOptions</code> valeur: <aside class="bcls-aside bcls-aside--information">Pour ExoPlayer v2.9.0+, vous devez activer la prise en charge de Java 8. Pour ce faire, ajoutez ce qui suit à la <code translate="No">android</code> section de votre application <strong>build.gradle</strong> déposer. Pour plus de détails, voir <a href="https://exoplayer.dev/hello-world.html">ExoPlayer d'Android</a> document.</aside>

		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">android {
    compileSdkVersion 28
    defaultConfig {
        applicationId "com.brightcove.playvideos1"
        minSdkVersion 21
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    <span class="bcls-highlight">compileOptions {
        targetCompatibility JavaVersion.VERSION_1_8
    }</span>
}</code></pre>
		</li>
		<li>Sous le <code translate="No">android</code> section, ajoutez un <code translate="No">repositories</code> section pour le référentiel Brightcove Maven.
		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No"><span class="bcls-highlight">repositories {
      maven {
          url 'https://repo.brightcove.com/releases'
      }
    }</span></code></pre>
		</li>
		<li>Dans le <code translate="No">dependencies</code> section, incluez la dernière version du SDK natif pour Android. Remplacer la valeur <code translate="No">6.10.0</code> ci-dessous avec la dernière version du SDK, qui se trouve dans le <a href="/android/basics/overview-brightcove-player-sdk-android.html">Aperçu: Kit de développement logiciel natif Brightcove pour Android</a> document.
		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">dependencies {
  implementation fileTree(dir: 'libs', include: ['*.jar'])
  implementation 'com.android.support:appcompat-v7:26.1.0'
  implementation 'com.android.support.constraint:constraint-layout:1.0.2'
  testImplementation 'junit:junit:4.12'
  androidTestImplementation 'com.android.support.test:runner:1.0.1'
  androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'
<span class="bcls-highlight">  implementation "com.brightcove.player:exoplayer2:6.10.0"</span>
}</code></pre>
		</li>
	</ol>
	&nbsp;

	<p>Utilisation d'une version de dépendance dynamique avec le '+' personnage est découragé dans la communauté Gradle. L'utilisation du contrôle de version dynamique présente un risque important pour votre processus de génération, car les nouvelles API peuvent devenir de manière inattendue incompatibles avec le code source de votre application.</p>

	<aside class="bcls-aside bcls-aside--tip">Remarques:
	<ul>
		<li>Brightcove recommande de toujours utiliser la dernière version avec une chaîne de version spécifique. Par exemple, examinez le <strong>build.gradle</strong> et <strong>gradle.properties</strong> fichiers dans le <a href="https://github.com/BrightcoveOS/android-player-samples">échantillons-lecteur-android</a> projet.</li>
		<li>La dépendance ExoPlayer inclut le SDK natif pour Android, vous n'avez donc pas besoin d'inclure le SDK séparément. <!-- <p>
			It is recommended that you use the ExoPlayer. If you are not using the exoplayer, you can use the following:
		</p> --> <!-- <code translate="No">implementation 'com.brightcove.player:android-sdk:6.+'</code> --></li>
		<li><a href="https://google.github.io/ExoPlayer/">ExoPlayer de Google</a> est un lecteur multimédia open source au niveau de l'application pour Android. Notez que nous utilisons le framework ExoPlayer 2. Pour plus de détails, consultez le <a href=" /android/framework/migrating-exoplayer-2-framework.html">Migration vers le framework ExoPlayer 2</a> document.</li>
	</ul>
	</aside>
	</li>
	<li>Synchronisez le projet pour récupérer les modifications apportées au fichier Gradle.</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Code_the_application">Coder l'application</h2>

<p>Ensuite, vous allez écrire le code pour mettre en page l'application, créer la liste de vidéos et lire les vidéos</p>

<h3>Définir la mise en page de l'application</h3>

<p>Même avec l'activité vide, vous obtiendrez un simple <code translate="No">TextView</code> disposition. Remplacez-le par le <code translate="No">BrightcoveExoPlayerVideoView</code> , qui définit la vue pour le joueur.</p>

<ol class="bcls-tasklist">
	<li>Ouvrir le fichier <code translate="No">app/res/layout/activity_main.xml</code>.</li>
	<li>
	<p>Cliquez sur <strong>Texte</strong> au bas de l'onglet du fichier pour voir le XML brut.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Layout XML file" src="/assets/images/android/step-by-step/studioqs-text-activity-main-xml.png" />
	<figcaption class="bcls-caption--image">Fichier XML de mise en page</figcaption>
	</figure>
	</li>
	<li>
	<p>Supprimer l'existant <code translate="No">TextView</code> élément et ajoutez un <code translate="No">BrightcoveExoPlayerVideoView</code> section afin que le XML résultant apparaisse comme suit. Remarque pour une utilisation ultérieure du <code translate="No">id</code> de la vue est nommé <code translate="No">brightcove_video_view</code>.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
    &lt;android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context="com.brightcove.playvideos.MainActivity"&gt;

    <span class="bcls-highlight">&lt;com.brightcove.player.view.BrightcoveExoPlayerVideoView
        android:id="@+id/brightcove_video_view"
        android:layout_width="match_parent"
        android:layout_height="280dp"
        android:layout_gravity="center_horizontal|top"/&gt;</span>
    &lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
	</li>
</ol>

<h3>Activer l'application pour utiliser Internet</h3>

<ol class="bcls-tasklist">
	<li>Ouvrez le <code translate="No">app/manifests/AndroidManifest.xml</code> déposer.</li>
	<li>
	<p>Juste après le <code translate="No">&lt;application&gt;</code> bloc de code, mais au-dessus de la fin <code translate="No">&lt;/manifest&gt;</code> , insérez ce qui suit pour activer l'accès Internet.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">&lt;uses-permission android:name="android.permission.INTERNET"/&gt;</code></pre>
	</li>
	<li>Synchronisez le projet pour le reconstruire et récupérer ces modifications.</li>
</ol>

<h3>Créer la vue et lire une vidéo</h3>

<ol class="bcls-tasklist">
	<li>
	<p>Retour au <code translate="No">MainActivity.java</code> déposer. Pour le <code translate="No">MainActivity</code> classe, étendre la <code translate="No">BrightcovePlayer</code> classer. Cela fournit une gestion du cycle de vie par défaut pour votre application.</p>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {</code></pre>
	</li>
	<li>
	<p>Les <code translate="No">BrightcovePlayer</code> la classe n'est pas automatiquement importée dans le projet. appuie sur le <strong>option + retour</strong> touches pour ajouter le <code translate="No">import</code> déclaration pour la classe.</p>

	<p>Avant:</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Importing class" src="/assets/images/android/step-by-step/import-class.png" />
	<figcaption class="bcls-caption--image">Classe d'importation</figcaption>
	</figure>

	<p>Après:</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Imported class" src="/assets/images/android/step-by-step/imported-class.png" />
	<figcaption class="bcls-caption--image">Classe importée</figcaption>
	</figure>

	<p>Vous le ferez pour toutes les nouvelles classes que vous ajoutez au projet.</p>
	</li>
	<li>
	<p>Localisez le <code translate="No">onCreate()</code> fonction. Sous tout code existant dans la fonction, ajoutez ce qui suit :</p>

	<ul><!-- <li>Set the content view.</li> -->
		<li>
		<p>Créer une instance de <code translate="No">BrightcoveExoPlayerVideoView</code> et l'associer à la mise en page. Dans la plupart des cas, vous utiliserez la vue exoplayer. Pour plus de détails, consultez le <a href="/android/basics/android-choosing-video-view.html">Choisir une vue vidéo</a> document.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {
  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
<span class="bcls-highlight">    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);</span></code></pre>

	<p>N'oubliez pas d'importer le <code translate="No">BrightcoveExoPlayerVideoView</code> classer.</p>
	</li>
	<li class="player-only">
	<p>Ensuite, vous devez envoyer votre ID de compte de joueur Brightcove à Brightcove en utilisant l'analyse <code translate="No">setAccount()</code> méthode.</p>

	<pre class="line-numbers" data-start="22">
<code class="language-java" translate="No">Analytics analytics = brightcoveVideoView.getAnalytics();
analytics.setAccount("<span class="bcls-input">your account Id</span>");</code></pre>
	</li>
	<li class="video-cloud-only">
	<p><strong>Optionnel:</strong> Si vous remplacez le <code translate="No">BrightcoveExoPlayerVideoView</code> classe ou n'utilisez pas le lecteur et le catalogue Brightcove, vous devez envoyer votre ID d'éditeur Video Cloud à Video Cloud Analytics. Vous pouvez le faire en utilisant l'analyse <code translate="No">setAccount()</code> méthode. Cela vous permet d'afficher les données de cette application dans Video Cloud Analytics.</p>

	<pre class="line-numbers" data-start="22">
<code class="language-java" translate="No">Analytics analytics = brightcoveVideoView.getAnalytics();
analytics.setAccount("<span class="bcls-input">your account Id</span>");</code></pre>

	<aside class="bcls-aside bcls-aside--tip video-cloud-only">Pour plus de détails sur l'envoi de données à Video Cloud Analytics, consultez le <a href="/features/viewing-brightcove-analytics-player-sdks.html">Utilisation de Brightcove Analytics</a> guider.</aside>
	</li>
	<li>
	<p>Créez un objet vidéo à partir de votre vidéo hébergée sur un serveur distant. Met le <code translate="No">DeliveryType</code> pour correspondre au type de vidéo que vous avez.</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>Chargez une image distante à utiliser comme image d'affiche avant le démarrage de la lecture vidéo.</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>Ajoutez la vidéo à la vue et lancez la lecture de la vidéo.</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p>Vérifiez que votre <code translate="No">onCreate()</code> méthode apparaît comme suit :</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
	<li>
	<p>Exécutez ou déboguez l'application pour voir la lecture de la vidéo.</p>

	<aside class="bcls-aside bcls-aside--information">Lorsque vous exécutez l'application sur un appareil, assurez-vous qu'il est connecté à Internet via votre forfait de données cellulaires ou Wi-Fi.</aside>
	</li>
</ol>
<!--
                      <h3>Add controls to the player</h3>
                      <p>You should have seen the default Android player controls when you ran your app in the last section. Now, you will use the Brightcove player controls.</p>
                      <ol start="31">
                        <li>Add a blank line just after the instantiation of the <code translate="No">BrightcoveVideoView</code> and before adding the video.</li>
                        <li><p>In this position add the following code to add controls to the player.</p>
                        <p><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="59-60"></code></p></li>
                        <li><p>Be sure your <code translate="No">onCreate()</code> method appears as follows:</p>
                        <p class="video-cloud-only"><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="52-64"></code></p>
                        <p class="player-only"><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="160-175"></code></p></li>
                        <li>Run the application and you will see the video playing, now with the controls visible. If you don't see the controls, tap the screen and they will appear.</li>
                      </ol>
          --></section>

<section class="bcls-section video-cloud-only">
<h2 id="Get_and_play_a_video">Obtenir et lire une vidéo</h2>

<p>Dans cette section, vous utiliserez le <code translate="No">Catalog</code> class pour récupérer une seule vidéo du serveur Video Cloud, puis la lire.</p>

<p>Les <code translate="No">com.brightcove.player.edge.Catalog</code> La classe fournit des méthodes asynchrones pour récupérer des vidéos et des listes de lecture à partir du <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">API de lecture Brightcove</a>. Il s'agit de l'API la plus récente et recommandée pour récupérer le contenu de votre bibliothèque Video Cloud.</p>

<h3>Supprimer le code inutile</h3>

<ol class="bcls-tasklist">
	<li>Certains codes de l'application précédente ne sont plus nécessaires. Dans le <code translate="No">onCreate()</code> méthode, supprimez tout le code après avoir instancié le <code translate="No">brightcoveVideoView</code> .</li>
	<li>
	<p>Confirmer votre <code translate="No">onCreate()</code> méthode apparaît comme suit :</p>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
  }
}</code></pre>
	</li>
</ol>

<h3>Récupérer une vidéo du catalogue</h3>

<ol class="bcls-tasklist">
	<li>À partir de Video Cloud Studio, collectez les informations suivantes :
	<ul>
		<li>identifiant de compte</li>
		<li>Identifiant de la vidéo</li>
		<li>Clé de stratégie</li>
	</ul>
	&nbsp; <aside class="bcls-aside bcls-aside--information">Remarques:
	<ul>
		<li>Pour accéder à l'API de lecture, vous aurez besoin d'une clé de stratégie. Si vous n'êtes pas familiarisé avec les clés de stratégie, consultez le <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Présentation de l'API des règles</a>.</li>
		<li>Étant donné que les kits SDK natifs n'envoient pas d'en-tête d'origine, vous ne pouvez pas utiliser une clé de stratégie limitée au domaine. Si vous essayez ceci, vous obtiendrez un <code translate="No">403 Forbidden</code> réponse lorsque vous essayez de récupérer du contenu dans votre bibliothèque Video Cloud.</li>
	</ul>
	</aside>
	</li>
	<li>
	<p>Définissez vos valeurs personnalisées dans votre projet. Ouvrez le <code translate="No">res/values/strings.xml</code> fichier et mettez-le à jour comme suit :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
  &lt;resources&gt;

      &lt;!-- Application name --&gt;
      &lt;string name="app_name"&gt;PlayVideos&lt;/string&gt;

      &lt;!-- A sample Brightcove Edge Account ID --&gt;
      &lt;string name="account"&gt;<span class="bcls-input">your account id</span>&lt;/string&gt;

      &lt;!-- A sample Brightcove Edge Policy Key --&gt;
      &lt;string name="policy"&gt;<span class="bcls-input">your policy key</span>&lt;/string&gt;

      &lt;!-- A sample Brightcove Video ID --&gt;
      &lt;string name="videoId"&gt;<span class="bcls-input">your video id</span>&lt;/string&gt;

  &lt;/resources&gt;</code></pre>
	</li>
	<li>
	<p>Retour au <code translate="No">MainActivity.java</code> fichier et ajoutez le code suivant :</p>

	<ul>
		<li>Obtenir l'émetteur d'événement à partir du SDK</li>
		<li>
		<p>Créer une instance de <code translate="No">com.brightcove.player.edge.Catalog</code> , en utilisant vos valeurs définies pour l'ID de compte et la clé de stratégie à l'étape précédente.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="21">
<code class="language-java" translate="No">// Get the event emitter from the SDK and create a catalog request to fetch a video from the
// Brightcove Edge service, given a video id, an account id and a policy key.
<span class="bcls-highlight">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));</span>
  </code></pre>
	</li>
	<li>
	<p>Utilisez le catalogue <code translate="No">findVideoByID()</code> méthode avec votre ID vidéo et un <code translate="No">VideoListener</code> pour le rappel.</p>
	<!--				<p>For this example, select the  <code translate="No">VideoListener</code> associated with <code translate="No">com.brightcove.player.media</code>.</p>-->

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

  // Add the video found to the queue with add().
  // Start playback of the video with start().
  @Override
    public void onVideo(Video video) {
    }

  @Override
    public void onError(String s) {
    }
});</code></pre>

	<aside class="bcls-aside bcls-aside--information">Les <code translate="No">VideoListener</code> identifie les objets qui s'attendent à recevoir un objet vidéo d'une opération asynchrone. En cas d'opération réussie, un <code translate="No">onVideo()</code> méthode sera appelée. S'il y a une erreur dans l'opération, un <code translate="No">onError()</code> méthode sera appelée. Android Studio a inséré les signatures des deux méthodes nécessaires.</aside>
	</li>
	<li>
	<p>Dans le <code translate="No">onVideo()</code> méthode, ajoutez la vidéo à <code translate="No">brightcoveVideoView</code> , puis lancez la vidéo.</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">// Start playback of the video with start().
  @Override
    public void onVideo(Video video) {
      brightcoveVideoView.add(video);
      brightcoveVideoView.start();
    }</code></pre>
	</li>
	<li>
	<p>Dans le <code translate="No">onError()</code> méthode renvoie la chaîne d'erreur.</p>

	<pre class="line-numbers" data-start="36">
<code class="language-java" translate="No">@Override
    public void onError(String s) {
      throw new RuntimeException(s);
    }</code></pre>
	</li>
	<li>
	<p>Le code complet de votre <code translate="No">MainActivity</code> la classe devrait ressembler à ceci :</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
    Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));
    catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

      // Add the video found to the queue with add().
      // Start playback of the video with start().
      @Override
      public void onVideo(Video video) {
        brightcoveVideoView.add(video);
        brightcoveVideoView.start();
      }

      @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
    });
  }
}</code></pre>
	</li>
	<li>Exécutez l'application pour confirmer la lecture de la vidéo.</li>
</ol>
</section>
<!--class="section video-cloud-only"-->

<section class="bcls-section video-cloud-only">
<h2 id="Get_and_play_a_playlist">Obtenir et lire une liste de lecture</h2>

<p>Dans cette section, vous utiliserez le <code translate="No">Catalog</code> class pour récupérer une liste de lecture depuis le serveur Video Cloud, puis lire les vidéos de la liste de lecture.</p>

<p>Les <code translate="No">com.brightcove.player.edge.Catalog</code> La classe fournit des méthodes asynchrones pour récupérer des vidéos et des listes de lecture à partir du <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">API de lecture Brightcove</a>. Il s'agit de l'API la plus récente et recommandée pour récupérer le contenu de votre bibliothèque Video Cloud.</p>

<h3>Supprimer le code inutile</h3>

<ol class="bcls-tasklist">
	<li>
	<p>Certains codes de l'application précédente ne sont plus nécessaires. Supprimer l'appel au catalogue <code translate="No">findVideoByID()</code> méthode et les <code translate="No">VideoListener</code> fonction de rappel anonyme.</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

    // Add the video found to the queue with add().
    // Start playback of the video with start().
    @Override
      public void onVideo(Video video) {
        brightcoveVideoView.add(video);
        brightcoveVideoView.start();
      }

    @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
  });</code></pre>
	</li>
</ol>

<h3>Récupérer une liste de lecture du catalogue</h3>

<ol class="bcls-tasklist">
	<li>
	<p>L'instance de catalogue existante fonctionnera pour récupérer une liste de lecture, donc <strong>aucun changement n'est nécessaire</strong> à ces lignes de code :</p>

	<pre class="line-numbers" data-start="23">
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));</code></pre>
	</li>
	<li>Dans Video Cloud Studio <strong>Médias</strong> module, sélectionnez une liste de lecture et copiez le <strong>Identifiant de la liste de lecture</strong>.</li>
	<li>
	<p>Utilisez le catalogue <code translate="No">findPlaylistByID()</code> méthode utilisant votre identifiant de liste de lecture et un <code translate="No">PlaylistListener</code> pour le rappel.</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findPlaylistByID("2764931905001", new PlaylistListener() {
  @Override
  public void onPlaylist(Playlist playlist) {
  }

  @Override
  public void onError(String s) {
  }
});</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Les <code translate="No">PlaylistListener</code> identifie les objets qui s'attendent à recevoir un objet Playlist à partir d'une opération asynchrone. En cas d'opération réussie, un <code translate="No">onPlaylist()</code> méthode sera appelée. S'il y a une erreur dans l'opération, un <code translate="No">onError()</code> méthode sera appelée. Android Studio a inséré les signatures des deux méthodes nécessaires.</aside>
	</li>
	<li>
	<p>Dans le <code translate="No">onPlaylist()</code> méthode, récupérer les vidéos de la liste de lecture, ajouter toutes les vidéos à <code translate="No">brightcoveVideoView</code> , puis lancez la première vidéo.</p>

	<pre class="line-numbers" data-start="27">
<code class="language-java" translate="No">@Override
    public void onPlaylist(Playlist playlist) {
  <span class="bcls-highlight">    brightcoveVideoView.addAll(playlist.getVideos());
      brightcoveVideoView.start();</span>
    }</code></pre>
	</li>
	<li>
	<p>Dans le <code translate="No">onError()</code> méthode renvoie la chaîne d'erreur.</p>

	<pre class="line-numbers" data-start="31">
<code class="language-java" translate="No"> @Override
    public void onError(String s) {
  <span class="bcls-highlight">    throw new RuntimeException(s);</span>
    }</code></pre>
	</li>
	<li>
	<p>Le code complet de votre <code translate="No">MainActivity</code> la classe devrait ressembler à ceci :</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
    Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));
    catalog.findPlaylistByID("4845949311001", new PlaylistListener() {
      @Override
      public void onPlaylist(Playlist playlist) {
        brightcoveVideoView.addAll(playlist.getVideos());
        brightcoveVideoView.start();
      }

      @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
    });
  }
}</code></pre>
	</li>
	<li>Exécutez l'application pour confirmer plusieurs vidéos de la lecture de la liste de lecture.</li>
</ol>
</section>
<!--class="section video-cloud-only"-->

<p><strong>Vous avez terminé! Merci d'avoir travaillé avec le démarrage rapide du SDK Android.</strong></p>
</article>
<!-- Learning path right navigation -->
<link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/learning-paths.css" /><script>
    var chemin_apprentissage = [ { node: '18250', title: 'Native SDK Architecture' } , { node: '18252', title: 'Understand the Activity Class' } , { node: '18248', title: 'Choose a Video View' } , { node: '18247', title: 'Register Your App' } , { node: '18251', title: 'Use Media Content' } , { node: '18249', title: 'Understand Events' } , { node: '18238', title: 'Step-by-Step: Simple Video App' } ]
  </script><script src="https://support.brightcove.com/site-assets/js/site/learning-paths.js"></script>