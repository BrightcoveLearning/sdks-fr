---
title: 'Extraits de code utilisant le SDK natif pour Android' la
description: Dans cette rubrique, vous trouverez une collection d'extraits de code qui peuvent vous être utiles comme référence lors du développement avec le SDK. Pour des solutions plus détaillées, voir le <a href="https://github.com/BrightcoveOS/android-player-samples">Exemples de lecteur Android</a> .
parent: Resources 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h3 id="top">Table des matières</h3>
<details style="padding:0;">
    <summary>Publicité</summary>
    <ul>
      <li><a href="#Preload_IMA_ads">Précharger les annonces IMA</a></li>
      <li><a href="#Seek_without_ads">Chercher sans publicité</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Analytique</summary>
    <ul>
      <li><a href="#Google_analytics">Google Analytics</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Légendes</summary>
    <ul>
      <li><a href="#Setting_captions_and_themes">Définir des légendes et des thèmes</a></li>
      <li><a href="#Setting_default_captions">Définition des sous-titres par défaut</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>notions</summary>
    <ul>
      <li><a href="#Methods_synchronous_or_asynchronous">Méthodes : synchrones ou asynchrones ?</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Sécurité du contenu (DRM)</summary>
    <ul>
      <li><a href="#Manually_adding_DRM_content">Ajout manuel de contenu DRM</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Diffusion en direct</summary>
    <ul>
      <li><a href="#Getting_duration_for_live_streams">Obtenir la durée des diffusions en direct</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Relecture</summary>
    <ul>
      <li><a href="#Detecting_Network_Bandwidth">Détection de la bande passante du réseau</a></li>
      <li><a href="#Getting_the_ExoPlayer_instance">Obtenir l'instance ExoPlayer</a></li>
      <li><a href="#Offline_playback_with_DRM">Lecture hors ligne avec DRM</a></li>
      <li><a href="#Paging_with_the_Playback_API">Pagination avec l'API de lecture</a></li>
      <li><a href="#Playing_local_videos">Lecture de vidéos locales</a></li>
      <li><a href="#Setting_the_buffer_size">Réglage de la taille du tampon</a></li>
      <li><a href="#Setting_the_peak_bitrate">Réglage du débit binaire de pointe</a></li>
      <li><a href="#Setting_the_playback_rate">Réglage de la vitesse de lecture</a></li>
      <li><a href="#Setting_VR_Goggles_mode_for_360_videos">Paramétrer le mode lunettes VR pour les vidéos 360°</a></li>
      <li><a href="#Starting_playback_in_the_middle_of_a_video">Lancer la lecture au milieu d'une vidéo</a></li>
      <li><a href="#Swapping_videos">Échanger des vidéos</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Contrôles du joueur</summary>
    <ul>
      <li><a href="#Customizing_controls_for_Android_TV">Personnalisation des commandes pour Android TV</a></li>
      <li><a href="#Fullscreen_mode">Mode plein écran</a></li>
      <li><a href="#Mute_unmute_the_player">Activer/désactiver le son du lecteur</a></li>
      <li><a href="#Positioning_player_controls_on_the_bottom">Positionnement des commandes du lecteur en bas</a></li>
      <li><a href="#Showing_player_controls">Affichage des commandes du lecteur</a></li>
      <!--				  <li><a href="#singleline">Showing single line controls</a></li>-->
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Listes de lecture</summary>
    <ul>
      <li><a href="#Switching_between_videos_in_a_playlist">Basculer entre les vidéos d'une liste de lecture</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Contenu vidéo</summary>
    <ul>
      <li><a href="#Getting_URL_for_thumbnail_images">Obtenir l'URL pour les images miniatures</a></li>
      <li><a href="#Loading_a_remote_video_and_poster_image">Chargement d'une vidéo à distance et d'une image d'affiche</a></li>
      <li><a href="#Showing_hiding_video_still_images">Afficher/masquer les images fixes de la vidéo</a></li>
    </ul>
</details>
<br/>
</section>

<section class="bcls-section">
<h2 id="Customizing_controls_for_Android_TV">Personnalisation des commandes pour Android TV</h2>

<p>Vous pouvez ajouter des boutons à la barre de contrôle pour les appareils ou Android TV. Les étapes ci-dessous vous guident tout au long de l'ajout d'un bouton plein écran à la barre de contrôle pour Android TV :</p>

<ol class="bcls-tasklist-restart">
	<li>Ouvrez le <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/CustomizedControlsSampleApp">Contrôles personnalisés</a> exemple d'application. Nous utiliserons cela comme point de départ. Examinez les exemples d'applications <a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/README.md">LISEZ-MOI</a> fichier pour plus de détails sur la personnalisation des commandes du lecteur.</li>
	<li>Ouvrez le <strong>res/layout/land/my_media_controller.xml</strong> fichier dans Android Studio.</li>
	<li>Copiez le <code translate="No">Button</code> élément pour le <code translate="No">full_screen</code> bouton. Le code devrait ressembler à ceci :
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/layout-land/my_media_controller.xml">&lt;Button
style="@style/BorderlessButton"
android:id="@id/full_screen"
android:padding="4dp"
android:layout_gravity="center_vertical"
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:visibility="visible"
android:text="@string/brightcove_controls_enter_full_screen"/&gt;</a></code></pre>
	</li>
	<li>Ouvrez le <strong>res/layout/my_tv_media_controller.xml</strong> fichier dans Android Studio.</li>
	<li>Coller le copié <code translate="No">Button</code> élément dans ce fichier de mise en page. La position des éléments détermine leur position dans la barre de contrôle.</li>
	<li>Faites défiler vers le haut de la <strong>res/layout/my_tv_media_controller.xml</strong> déposer. Assurez-vous que la propriété style est définie sur <code translate="No">@style/BrightcoveControlBar.TV.Custom</code>. Le code devrait ressembler à ceci :
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;com.brightcove.player.mediacontroller.BrightcoveControlBar
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:bmc="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
tools:ignore="Overdraw, InconsistentLayout"
android:id="@+id/brightcove_control_bar"
android:background="@color/bmc_background"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:padding="8dp"

android:orientation="horizontal"
android:layout_gravity="bottom"
<span class="bcls-highlight">    style="@style/BrightcoveControlBar.TV.Custom"&gt;</span></code></pre>
	</li>
	<li>Ouvrez le <strong>res/valeurs/styles.xml</strong> fichier dans Android Studio.</li>
	<li>À la <code translate="No">style</code> élément avec un <code translate="No">name</code> valeur de <code translate="No">BrightcoveControlBar.TV.Custom</code> , ajoutez un <code translate="No">item</code> élément pour le bouton plein écran et définissez-le sur <code translate="No">true</code> pour l'afficher.
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/values/styles.xml">&lt;style name="BrightcoveControlBar.TV.Custom"&gt;
&lt;item name="brightcove_vr_mode"&gt;false&lt;/item&gt;
<span class="bcls-highlight">  &lt;item name="brightcove_full_screen"&gt;true&lt;/item&gt;</span>
&lt;/style&gt;</a></code></pre>
	</li>
	<li>C'est ça. Exécutez l'exemple d'application sur un appareil physique ou virtuel Android TV. Vous devriez voir le bouton plein écran dans la barre de contrôle.
	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Fullscreen button" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/android_tv_fullscreen.png" />
	<figcaption class="bcls-caption--image">Bouton plein écran</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Fullscreen_mode">Mode plein écran</h2>

<p>Vous pouvez gérer le mode plein écran à l'aide de code.</p>

<ul>
	<li>
	<p>Voici le code pour définir le mode plein écran :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ENTER_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.ENTER_FULL_SCREEN);</a></code></pre>
	</li>
	<li>
	<p>Voici le code pour quitter le mode plein écran :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#EXIT_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.EXIT_FULL_SCREEN);</a></code></pre>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Getting_duration_for_live_streams">Obtenir la durée des diffusions en direct</h2>

<p>Pour obtenir la durée d'une diffusion en direct, vous pouvez utiliser le <a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION"><code translate="No">MAX_POSITION</code></a>. Cela vous donne la plus grande position de recherche pour un flux en direct (c'est-à-dire le plus loin que vous puissiez faire glisser la barre de défilement). Votre code devrait ressembler à ceci :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION">brightcoveVideoView.getEventEmitter().on(EventType.PROGRESS, new EventListener() {
  @Override
  public void processEvent(Event event) {
  int duration = (int) event.properties.get(Event.MAX_POSITION);
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Detecting_Network_Bandwidth">Détection de la bande passante du réseau</h2>
<p>Il peut y avoir des cas d'utilisation où vous devez détecter la bande passante du réseau au sein de votre application, par exemple lorsque vous travaillez avec des téléchargements.</p>

<p>Pour détecter la bande passante, le SDK natif pour Android utilise le <code translate="No">BandwidthMeter</code> classe fournie par ExoPlayer. Notre <code translate="No">PlayerBandwidthMeter</code> la classe utilise le <code translate="No">BandwidthMeter</code> classe et fournit le <code translate="No">getBitrateEstimate</code> méthode renvoyant le débit binaire estimé.</p>

<p>Pour plus de détails, voir ce qui suit :</p>
<ul>
  <li><a href="/android/reference/javadoc/com/brightcove/player/network/PlayerBandwidthMeter.html">Classe Brightcove PlayerBandwidthMeter</a></li>
  <li><a href="https://medium.com/google-exoplayer/https-medium-com-google-exoplayer-simplified-bandwidth-meter-usage-17d8189f978b">Poster: Utilisation simplifiée du compteur de bande passante</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html">Interface du compteur de bande passante ExoPlayer</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html">Interface ExoPlayer BandwidthMeter.EventListener</a></li>
</ul>

<p>Voici un exemple :</p>
<pre class="line-numbers">
<code class="language-java" translate="No">ExoPlayerVideoDisplayComponent exoPlayer = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
exoPlayer.getBandwidthMeter().addEventListener(myHandler, new BandwidthMeter.EventListener() {@
	Override public void onBandwidthSample(int elapsedMs, long bytesTransferred, long bitrateEstimate) {}
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Getting_the_ExoPlayer_instance">Obtenir l'instance ExoPlayer</h2>

<p>Il peut arriver que vous deviez demander à l'objet ExoPlayer de modifier des propriétés qui ne sont pas exposées via le Brightcove Native SDK. Une instance de cet objet est créée une fois la vidéo définie. Il faut donc attendre la <code translate="No">DID_SET_VIDEO</code> un événement.</p>

<p>Vous pouvez obtenir l'instance ExoPlayer en procédant comme suit :</p>

<pre class="line-numbers">
<code class="language-java" translate="No">// Get the ExoPlayer instance
eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    VideoDisplayComponent videoDisplayComponent = brightcoveVideoView.getVideoDisplay();
    if (videoDisplayComponent instanceof ExoPlayerVideoDisplayComponent) {
      // Get ExoPlayer
      ExoPlayer exoPlayer = ((ExoPlayerVideoDisplayComponent) videoDisplayComponent).getExoPlayer();
      if (exoPlayer instanceof SimpleExoPlayer) {
        // Get SimpleExoPlayer
        SimpleExoPlayer simpleExoPlayer = (SimpleExoPlayer) exoPlayer;
        Log.v(TAG, "onDID_SET_VIDEO: ExoPlayer = " + simpleExoPlayer);
      }
    }
  }
});</code></pre>

<p>Pour un exemple de modification du <code translate="No">AudioAttribute</code> propriété pour l'ExoPlayer, voir la <a href="https://groups.google.com/forum/#!topic/brightcove-native-player-sdks/-bbFKw3fOtk">Définition des attributs audio sur l'instance Exoplayer</a> message du forum.</p>
</section>

<section class="bcls-section">
<h2 id="Getting_URL_for_thumbnail_images">Obtenir l'URL pour les images miniatures</h2>

<p>Vous pouvez utiliser les vignettes ou les images fixes vidéo de votre bibliothèque Brightcove. Utilisez le code suivant pour obtenir l'URL de vos images :</p>

<p>Pour les clients Video Cloud utilisant le catalogue Edge (com.brightcove.player.edge.Catalog), vous pouvez obtenir l'URL de la vignette comme ceci :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String thumbnailUrl = video.getProperties().get("thumbnail").toString();</a></code></pre>

<p>Si vous trouvez que l'image miniature est trop petite, vous pouvez obtenir l'image fixe de la vidéo à la place :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String videoStillUrl = video.getProperties().get("stillImageUri").toString();</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Google_analytics">Google Analytics</h2>

<p>Si vous utilisez le lecteur Brightcove et la classe de catalogue, les analyses vidéo seront automatiquement collectées et apparaîtront dans votre module Video Cloud Analytics. Pour des métriques supplémentaires, vous pouvez ajouter Google Analytics à votre application.</p>

<p>Pour intégrer Google Analytics à votre application, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>Ajoutez le plug-in Google Services à votre projet.</li>
	<li>Obtenez un fichier de configuration Google et ajoutez-le à votre projet.</li>
	<li>Étendez l'application et fournissez une méthode d'assistance qui renvoie votre suivi d'applications. Il devrait ressembler au <a href="https://github.com/googlesamples/google-services/blob/master/android/analytics/app/src/main/java/com/google/samples/quickstart/analytics/AnalyticsApplication.java">google-services AnalyticsApplication</a>.</li>
	<li>Dans une classe distincte qui étend le BrightcovePlayer, obtenez l'instance de suivi partagé :
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">// Obtain the shared Tracker instance
AnalyticsApplication application = (AnalyticsApplication) getApplication();
tracker = application.getDefaultTracker();</a></code></pre>
	</li>
	<li>Remplacez les méthodes appropriées pour consigner les changements d'écran et/ou envoyer des événements personnalisés pour le suivi.</li>
</ol>

<p>Pour les étapes détaillées, consultez le document de Google pour <a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">Ajouter Analytics à votre application Android</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Loading_a_remote_video_and_poster_image">Chargement d'une vidéo à distance et d'une image d'affiche</h2>

<p>Seuls les clients de Brightcove Player utilisent les ressources vidéo d'un serveur distant. Suivez ces étapes pour charger une vidéo et une image d'affiche, toutes deux résidant sur un serveur distant :</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Dans le <code translate="No">onCreate()</code> méthode, après avoir défini la vue vidéo, créez un objet vidéo à partir de votre vidéo hébergée sur un serveur distant. Met le <code translate="No">DeliveryType</code> pour correspondre au type de vidéo que vous avez.</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>Chargez une image distante à utiliser comme image d'affiche avant le démarrage de la lecture vidéo.</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>Ajoutez la vidéo à la vue et lancez la lecture de la vidéo.</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p>Vérifiez que votre <code translate="No">onCreate()</code> méthode apparaît comme suit :</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Manually_adding_DRM_content">Ajout manuel de contenu DRM</h2>

<p>En tant que client Brightcove Player, vous souhaiterez peut-être utiliser le contenu protégé par DRM de votre propre serveur. Vous pouvez charger manuellement le contenu DRM comme suit :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/drm/WidevineMediaDrmCallback.html">import com.brightcove.player.display.WidevineMediaDrmCallback;

Video video = Video.createVideo("https://storage.googleapis.com/wvmedia/cenc/h264/tears/tears.mpd");
video.getProperties().put(WidevineMediaDrmCallback.DEFAULT_URL, "https://proxy.uat.widevine.com/proxy?video_id=&amp;provider=widevine_test");
brightcoveVideoView.add(video);
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">Vous n'avez pas besoin de charger manuellement le contenu DRM dans votre bibliothèque Brightcove.</aside>
</section>

<section class="bcls-section">
<h2 id="Methods_synchronous_or_asynchronous">Méthodes : synchrones ou asynchrones ?</h2>

<p>Voici quelques-unes des méthodes asynchrones trouvées dans le kit de développement logiciel Native Player pour Android :</p>

<ul>
	<li>Les <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#start()"><code translate="No">start()</code></a> , <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SEEK_TO"><code translate="No">seekTo()</code></a> et <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#stopPlayback()"><code translate="No">stopPlayback()</code></a> Les méthodes sont asynchrones, car elles émettent un événement à gérer pour les autres composants du système.</li>
	<li>Les <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> La méthode est synchrone par rapport à la mise à jour de la liste, mais elle est asynchrone par rapport au déchargement de la vidéo actuelle.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Mute_unmute_the_player">Activer/désactiver le son du lecteur</h2>

<p>Vous pouvez désactiver ou réactiver le son du lecteur par programmation. Brightcove recommande d'utiliser le BrightcoveExoPlayerVideoView dans la mesure du possible.</p>

<aside class="bcls-aside bcls-aside--information">Vous devez attendre soit le <code translate="No">DID_SET_VIDEO</code> ou la <code translate="No">DID_PLAY</code> événement avant d'exécuter le code pour couper le son du lecteur. Sinon, la mise en sourdine ne prendra pas effet. La raison d'attendre ces événements est que le lecteur est créé lorsque la vidéo est chargée.</aside>

<h3 id="BrightcoveExoPlayerVideoView">BrightcoveExoPlayerVidéoVoir</h3>

<p>Lors de l'utilisation du <a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveExoPlayerVideoView.html">BrightcoveExoPlayerVidéoVoir</a> , vous pouvez activer ou désactiver le son du lecteur par programmation en procédant comme suit :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 100F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 100F;
  Map&lt;string, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>

<h3 id="BrightcoveVideoView">BrightcoveVidéoVoir</h3>

<aside class="bcls-aside bcls-aside--warning">Brightcove recommande d'utiliser BrightcoveExoPlayerVideoView.</aside>

<p>Si vous devez utiliser le <a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">BrightcoveVidéoVoir</a> , qui utilise Android <a href="https://developer.android.com/reference/android/media/MediaPlayer.html">Lecteur multimédia</a> , vous pouvez activer ou désactiver le son du lecteur par programmation avec le code suivant :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 1F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 1F;
  Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.LEFT_VOLUME, volume);
  properties.put(Event.RIGHT_VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Offline_playback_with_DRM">Lecture hors ligne avec DRM</h2>

<p>Pour les vidéos téléchargées pour une lecture hors ligne, l'état du téléchargement peut également être affiché dans la zone de notification. Le titre de la notification est défini sur le titre de la vidéo. La notification est supprimée si le téléchargement est interrompu ou annulé.</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">Télécharger l'état des notifications</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>Statut de téléchargement</th>
			<th>Texte du contenu de la notification</th>
			<th>Icône de notification</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>Téléchargement</td>
			<td><code translate="No">R.string.odrm_download_running</code>- c'est "Téléchargement…" par défaut<br />
			<br />
			Il y aura une barre de progression indiquant le pourcentage d'achèvement.</td>
			<td>L'icône de "téléchargement" animée par défaut de la plate-forme - <code translate="No">android.R.drawable.stat_sys_download</code></td>
		</tr>
		<tr>
			<td>Réessayez</td>
			<td><code translate="No">R.string.odrm_download_waiting_retry</code>- c'est "En attente d'une nouvelle tentative..." par défaut</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>Échoué</td>
			<td><code translate="No">R.string.odrm_download_failed</code>- c'est "Échec !"" par défaut</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>Complété</td>
			<td><code translate="No">R.string.odrm_download_complete</code>- c'est "Enregistré" par défaut</td>
			<td>L'icône statique "téléchargée" par défaut de la plate-forme - <code translate="No">android.R.drawable.stat_sys_download_done</code></td>
		</tr>
	</tbody>
</table>

<p>Pour un statut Retry ou Failed, le sous-texte de notification sera défini sur une ressource appropriée en fonction du type d'erreur. Voici la liste complète :</p>

<ul>
	<li><code translate="No">R.string.odrm_error_none</code></li>
	<li><code translate="No">R.string.odrm_error_cannot_resume</code></li>
	<li><code translate="No">R.string.odrm_error_device_not_found</code></li>
	<li><code translate="No">R.string.odrm_error_file_already_exists</code></li>
	<li><code translate="No">R.string.odrm_error_file_error</code></li>
	<li><code translate="No">R.string.odrm_error_http_data_error</code></li>
	<li><code translate="No">R.string.odrm_error_insufficient_space</code></li>
	<li><code translate="No">R.string.odrm_error_too_many_redirects</code></li>
	<li><code translate="No">R.string.odrm_error_unhandled_http_code</code></li>
	<li><code translate="No">R.string.odrm_error_unknown</code></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Paging_with_the_Playback_API">Pagination avec l'API de lecture</h2>

<p>Lors de la récupération de votre contenu Video Cloud à partir de l'API de lecture, vous pouvez implémenter la pagination pour une liste de lecture.</p>

<p>Pour parcourir un ensemble de vidéos dans une playlist, utilisez les paramètres d'URL de requête suivants :</p>

<ul>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">limit</a></code>- définit le nombre de vidéos à retourner depuis l'API Playback</li>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">offset</a></code>- définit le nombre de vidéos à sauter dans une liste de lecture à partir de l'API de lecture</li>
</ul>

<p>Les paramètres de la requête seront passés à la méthode Catalog en tant que <code translate="No">Map</code> objet, sous forme de paires clé-valeur. Cet exemple renvoie 6 vidéos en commençant par la 10e vidéo de la playlist :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">Map&lt;String, String&gt; queryParameters = new HashMap&lt;&gt;();
queryParameters.put("limit", "6");
queryParameters.put("offset", "9");

Catalog catalog = new Catalog(eventEmitter, "myAccount", "myPolicy");
catalog.findPlaylistByID("myPlaylistId", null, queryParameters, myListener);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Playing_local_videos">Lecture de vidéos locales</h2>

<p>Si vous souhaitez lire des vidéos MP4 stockées localement, vous devez les enregistrer dans le dossier des ressources de l'application.</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Uri video = Uri.parse("file:///android_asset/path/to/video.mp4");
brightcoveVideoView.add(Video.createVideo(video.toString()));
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">Vous pouvez obtenir une erreur d'exception si vous essayez de lire des vidéos MP4 stockées dans le dossier de ressources de l'application (/res/raw).</aside>
</section>

<section class="bcls-section">
<h2 id="Positioning_player_controls_on_the_bottom">Positionnement des commandes du lecteur en bas</h2>

<p>Par défaut, la barre de contrôle du lecteur est positionnée directement sous la vidéo, comme illustré ici :</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls under video" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-video.png" />
<figcaption class="bcls-caption--image">Commandes du lecteur sous vidéo</figcaption>
</figure>

<p>Vous pouvez également positionner la barre de contrôle du lecteur de manière à ce qu'elle se trouve en bas de la vue vidéo. Parce que les contrôles font partie du <code translate="No">BrightcoveVideoView</code> , en réglant la hauteur sur <code translate="No">match_parent</code> , la vue couvrira tout l'écran. Lorsque les commandes apparaissent en bas de la vue, la vidéo reste au milieu de la vue.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls bottom" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-bottom.png" />
<figcaption class="bcls-caption--image">Le lecteur contrôle le bas de la vue vidéo</figcaption>
</figure>

<p>Vous pouvez le faire de deux manières. La première approche suit :</p>

<ol class="bcls-tasklist-restart">
	<li>Ouvrez le <strong>main/res/values/style.xml</strong> fichier pour votre projet.</li>
	<li>
	<p>Ajoutez le code XML suivant :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;style name="BrightcoveControlBar" parent="BrightcoveControlBarDefault"&gt;
  &lt;item name="brightcove_align"&gt;false&lt;/item&gt;
&lt;/style&gt;</code></pre>
	</li>
</ol>

<p>Ou, vous pouvez utiliser le code dans le <strong>MainActivity.java</strong> fichier comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>Ouvrez le <strong>MainActivity.java</strong> fichier pour votre projet.</li>
	<li>
	<p>Après avoir obtenu l'émetteur d'événement, comme indiqué ici :</p>

	<pre>
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();</code></pre>

	<p>Ajoutez l'écouteur d'événement et le code suivants. Nous attendons après la <code translate="No">DID_SET_VIDEO</code> événement pour s'assurer que la barre de contrôle a été créée.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    BrightcoveControlBar brightcoveControlBar = brightcoveVideoView.getBrightcoveMediaController().getBrightcoveControlBar();
    brightcoveControlBar.setAlign(false);
    }
});</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Preload_IMA_ads">Précharger les annonces IMA</h2>

<p>Pour précharger des publicités à l'aide du SDK natif pour Android et du plug-in IMA, utilisez le <code translate="No">setEnablePreloading(true)</code> biens .</p>

<aside class="bcls-aside bcls-aside--information">Veuillez noter que cela ne fonctionne qu'avec les prerolls VAST uniques.</aside>

<p>Pour utiliser cette propriété, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Le point de départ est le <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">Exemple d'application IMA</a>.</p>
	</li>
	<li>
	<p>Localisez le <code translate="No">private void setupGoogleIMA()</code> fonction.</p>
	</li>
	<li>
	<p>Ajoutez le bloc de code d'extrait avant la dernière ligne de code de la fonction.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">ImaSdkSettings imaSdkSettings = sdkFactory.createImaSdkSettings();
AdsRenderingSettings adsRenderingSettings =
ImaSdkFactory.getInstance().createAdsRenderingSettings();
adsRenderingSettings.setEnablePreloading(true);</code></pre>
	</li>
	<li>
	<p>Ajouter le <code translate="No">adsRenderingSettings</code> paramètre à la dernière ligne de code.</p>

	<pre>
<code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent(brightcoveVideoView, eventEmitter, true, adsRenderingSettings);</code></pre>
	</li>
</ol>

<h2 id="Seek_without_ads">Chercher sans publicité</h2>

<p>Vous pouvez utiliser le <code translate="No">adsDisabled</code> propriété pour le <code translate="No">VideoPlaybackController</code> pour désactiver la lecture des annonces pendant que vous recherchez une vidéo.</p>

<aside class="bcls-aside bcls-aside--tip"> Cette fonctionnalité fonctionne avec tous les plug-ins publicitaires Brightcove, y compris SSAI et ceux pour CSAI. Pour plus de détails sur les plug-ins, consultez le <a href="https://sdks.support.brightcove.com/android/basics/overview-brightcove-player-sdk-android.html#Integrations">SDK natif pour les intégrations Android</a> section. </aside>
<!-- <aside class="bcls-aside bcls-aside--information">
<ul>
	<li>As of the Native SDK for Android v4.10.0, this feature is also supported with the FreeWheel plugin.</li>
</ul>
</aside> -->

<p>Pour utiliser cette fonctionnalité, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Obtenir le <code translate="No">VideoPlaybackController</code> exemple de la <code translate="No">BrightcoveVideoView</code>.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();</code></pre>
	</li>
	<li>
	<p>Désactivez la lecture des annonces.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(true);</code></pre>
	</li>
	<li>Recherchez la position temporelle souhaitée dans la vidéo actuelle.</li>
	<li>
	<p>Reprenez le comportement normal de l'annonce.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(false);</code></pre>
	</li>
</ol>

<p>Votre code devrait ressembler à ceci :</p>

<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">final VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();
eventEmitter.on(EventType.VIDEO_DURATION_CHANGED, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(true);
    brightcoveVideoView.seekTo(10000);
  }
});

eventEmitter.on(EventType.DID_SEEK_TO, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(false);
  }
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_buffer_size">Réglage de la taille du tampon</h2>

<p>Vous pouvez envisager d'augmenter la longueur de la mémoire tampon pour éliminer la mise en mémoire tampon dans le lecteur si la livraison du segment suivant est retardée depuis le CDN. Mais, vous ne pourrez peut-être pas faire mieux manuellement que HLS le fait déjà.</p>

<p>HLS est conçu pour jouer tout de suite et perdre en qualité s'il ne peut pas suivre. De cette façon, il n'a pas besoin de précharger un tampon. S'il ne peut pas suivre, il chargera autant de vidéo que possible avec la meilleure qualité pour éviter toute interruption.</p>

<p>À partir du SDK natif pour Android v6.3.1, les classes suivantes ont été ajoutées au SDK pour l'implémentation d'ExoPlayer 2 :</p>

<ul>
	<li><code translate="No">LoadControlConfig</code></li>
	<li><code translate="No">AllocatorConfig</code></li>
</ul>

<p>Les valeurs définies dans ces classes sont utilisées pour créer l'ExoPlayer <code translate="No">DefaultLoadControl</code> objet, qui est utilisé pour créer l'instance ExoPlayer. Les développeurs peuvent contrôler la taille du tampon comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Les <code translate="No">LoadControlConfig</code> et <code translate="No">AllocatorConfig</code> les classes suivent les modèles Builder. Les valeurs que vous pouvez définir dans les deux classes reflètent les valeurs que vous pouvez définir dans leurs constructeurs.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">AllocatorConfig allocatorConfig = new AllocatorConfig.Builder().build();
LoadControlConfig loadControlConfig = new LoadControlConfig.Builder()
.setAllocatorConfig(allocatorConfig)
.setMinBufferMs(X)
.setMaxBufferMs(Y)
.build();</code></pre>
	</li>
	<li>
	<p>Les valeurs non définies dans le générateur utiliseront les valeurs par défaut. Utilisez le <code translate="No">ExoPlayerVideoDisplayerComponent.setLoadControlConfig()</code> méthode pour définir le <code translate="No">LoadControlConfig</code>.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
...
ExoPlayerVideoDisplayComponent dc = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
dc.setLoadControlConfig(loadControlConfig);</code></pre>
	</li>
</ol>
<!-- <p>That being said, if you are using the ExoPlayer 1 implementation, you can control the following:</p>

<aside class="bcls-aside bcls-aside--warning">The following methods are only available with the ExoPlayer 1 implementation. These methods are deprecated with the ExoPlayer 2 implementation. For details, see the <a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html">ExoPlayerVideoDisplayComponent class</a> reference.</aside>

<ul>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferDurationToSwitchUp</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">maxBufferDurationToSwitchDown</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferMs</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minRebufferMs</code></a></li>
</ul>

<p>For example, if you want to set the buffer length to 120 seconds, you could set <code translate="No">minBufferMs</code> to <code translate="No">120 * 1000</code>.</p> --></section>

<section class="bcls-section">
<h2 id="Setting_captions_and_themes">Définir des légendes et des thèmes</h2>

<p>Actuellement, le <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> est défini dans le fichier manifeste du Brightcove Player SDK, les développeurs n'ont donc pas besoin de le spécifier dans leurs applications :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
xmlns:android="http://schemas.android.com/apk/res/android"
package="com.brightcove.player"
android:versionCode="1"
android:versionName="1.0"&gt;

&lt;application&gt;
&lt;!-- If we don't register this Activity in the Manifest, apps using the SDK will crash when they try to access it. --&gt;
&lt;!-- During the app's build process, this manifest will be merged with the app-level one. --&gt;
<span class="bcls-highlight">&lt;activity android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"/&gt;</span>
&lt;/application&gt;
&lt;/manifest&gt;</a></code></pre>

<p>Les <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> héritera du thème par défaut de la plate-forme, tant que vous définissez des thèmes pour votre application au <code translate="No">&lt;activity&gt;</code> level dans le manifeste de votre application.</p>

<p>Si vous définissez un seul thème d'application au <code translate="No">&lt;application&gt;</code> niveau, puis le <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> héritera des propriétés de ce thème au niveau de l'application. Pour certains thèmes, cela peut donner à l'activité un aspect étrange ou même illisible.</p>

<p>Dans ces cas, vous devez spécifier le <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> dans votre propre manifeste et appliquez-y un thème, comme ceci :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;activity
<span class="bcls-highlight">android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"</span>
android:theme="@style/MyCustomCaptionSettingsTheme"/&gt;</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_default_captions">Définition des sous-titres par défaut</h2>

<p>Si votre vidéo utilise des sous-titres en plusieurs langues, vous pouvez définir par programme une langue par défaut lorsque la lecture démarre. Votre code devrait ressembler à ceci :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)">brightcoveVideoView.getEventEmitter().once(EventType.CAPTIONS_LANGUAGES, new EventListener() {
  @Override
  public void processEvent(Event event) {
    brightcoveVideoView.setClosedCaptioningEnabled(true);
    brightcoveVideoView.setSubtitleLocale("fr");
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_peak_bitrate">Réglage du débit binaire de pointe</h2>

<p>Pour vous aider à implémenter un sélecteur de débit dans votre lecteur, vous pouvez utiliser le code suivant pour définir le débit maximal :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html#setPeakBitrate-int-">((ExoPlayerVideoDisplayComponent) videoView.getVideoDisplay()).setPeakBitrate(bitRate);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_playback_rate">Réglage de la vitesse de lecture</h2>

<p>L'ExoPlayer prend en charge le réglage de la vitesse de lecture pour les vidéos lues sur des appareils Android. Pour plus de détails, voir Google <a href="https://medium.com/google-exoplayer/variable-speed-playback-with-exoplayer-e6e6a71e0343">Lecture à vitesse variable avec ExoPlayer</a> document.</p>

<p>Vous pouvez contrôler la vitesse de lecture avec le code suivant :</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_PLAY, new EventListener() {
  @Override
  public void processEvent(Event event) {

    //Get instance of ExoPlayer2
    ExoPlayerVideoDisplayComponent displayComponent = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
    ExoPlayer exoPlayer = displayComponent.getExoPlayer();

    //Set playback speed
    PlaybackParameters param = new PlaybackParameters(1.6f, 1.0f);
    exoPlayer.setPlaybackParameters(param);
  }
});</code></pre>
<aside class="bcls-aside bcls-aside--tip">Pour savoir comment afficher un menu permettant aux téléspectateurs de choisir un taux de lecture, consultez le <a href="/android/playback/setting-playback-speed-android.html">Réglage de la vitesse de lecture sur les appareils Android</a> document.</aside>
</section>

<section class="bcls-section">
<h2 id="Setting_VR_Goggles_mode_for_360_videos">Paramétrer le mode lunettes VR pour les vidéos 360°</h2>

<p>Lors de la lecture d'une vidéo à 360°, les utilisateurs peuvent sélectionner le bouton Vidéo 360 sur la barre de contrôle pour passer en mode Lunettes VR. Si vous utilisez soit le <code translate="No">BrightcovePlayer</code> ou <code translate="No">BrightcovePlayerFragment</code> activité, l'orientation de l'écran passera au paysage lorsque le mode Lunettes VR est activé.</p>

<p>Si vous utilisez une activité personnalisée, vous devrez ajouter les éléments suivants :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#REQUESTED_ORIENTATION">brightcoveVideoView.getEventEmitter().on(EventType.CHANGE_ORIENTATION, new EventListener() {
  @Override
  public void processEvent(Event event) {
    int orientation = event.getIntegerProperty(Event.REQUESTED_ORIENTATION);
    setRequestedOrientation(orientation);
  }
});</a></code></pre>

<aside class="bcls-aside bcls-aside--information">Dans la méthode qui contient le code ci-dessus, vous devez ajouter <code translate="No">@SuppressWarnings("ResourceType")</code> à la méthode.</aside>
</section>

<section class="bcls-section">
<h2 id="Showing_hiding_video_still_images">Afficher/masquer les images fixes de la vidéo</h2>

<p>Le comportement par défaut lors de la récupération de vidéos à partir de votre bibliothèque Video Cloud est d'afficher l'image fixe de la vidéo jusqu'à ce que la lecture commence.</p>

<h3>Affichage de l'image fixe de la vidéo</h3>

<p>Vous pouvez afficher la vidéo à tout moment en émettant un <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VIDEO_STILL"><code translate="No">SET_VIDEO_STILL</code></a> événement avec un <a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#VIDEO_STILL"><code translate="No">VIDEO_STILL</code></a> propriété définie sur l'URI de l'image fixe de la vidéo.</p>
<!-- <p>Hiding should happen automatically whenever a <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#CUE_POINT"><code translate="No">CUE_POINT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_PLAY"><code translate="No">DID_PLAY</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_SEEK_TO"><code translate="No">DID_SEEK_TO</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#WILL_INTERRUPT_CONTENT"><code translate="No">WILL_INTERRUPT_CONTENT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ACTIVITY_STOPPED"><code translate="No">ACTIVITY_STOPPED</code></a>, or <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#FRAGMENT_STOPPED"><code translate="No">FRAGMENT_STOPPED</code></a> event occurs.</p> --><!-- <p>In general, we try to promote doing things via events, rather than direct method calls.</p>  -->

<h3>Masquer l'image fixe de la vidéo</h3>

<p>Si vous lisez automatiquement la vidéo, vous souhaiterez peut-être masquer l'image fixe de la vidéo. Pour ce faire, vous pouvez écouter le <code translate="No">SET_VIDEO_STILL</code> événement et empêcher le comportement par défaut comme suit :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">brightcoveVideoView.getEventEmitter().on(EventType.SET_VIDEO_STILL, new EventListener() {
  @Override
  public void processEvent(Event event) {
    event.preventDefault();
    event.stopPropagation();
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Showing_player_controls">Affichage des commandes du lecteur</h2>

<p>Par défaut, les commandes du lecteur disparaissent après quelques secondes. L'utilisateur peut afficher les commandes en appuyant sur la vidéo.</p>

<p>Si vous souhaitez que les commandes du lecteur restent affichées jusqu'à ce que l'utilisateur appuie sur la vidéo, vous pouvez désactiver la fonction de masquage automatique comme suit : (le code nécessaire est mis en surbrillance)</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/mediacontroller/BrightcoveMediaController.html">public class MainActivity extends BrightcovePlayer {
  <span class="bcls-highlight">private BrightcoveMediaController controller;</span>

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

<span class="bcls-highlight">    controller = new BrightcoveMediaController(brightcoveVideoView);
    controller.setShowHideTimeout(0);</span>

    super.onCreate(savedInstanceState);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Starting_playback_in_the_middle_of_a_video">Lancer la lecture au milieu d'une vidéo</h2>

<p>Parfois, vous devrez peut-être démarrer la lecture quelque part au milieu de la vidéo. Pour ce faire, vous pouvez appeler <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)"><code translate="No">BrightCoveVideoView.seekTo()</code></a> avant de commencer la lecture.</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
  @Override
  public void onVideo(Video video) {
    Log.v(TAG, "onVideo: video = " + video);

    brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
    @Override
      public void processEvent(Event event) {
      brightcoveVideoView.seekTo(60000);
      brightcoveVideoView.start();
      }
    });
  brightcoveVideoView.add(video);
  brightcoveVideoView.pause();
  }
});</a></code></pre>
</section>
<!--
											<div id="singleline" class="section">
													<h2>Showing single line controls</h2>
													<p>By default, the player controls will appear as a single line in landscape mode and appear stacked in portrait mode. You can override this behavior and display player controls as a single line in portrait mode.</p>
													<p>Follow these steps:</p>
													<ul>
															<li></li>
													</ul>

													<p><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)"><code data-gist-id="ac85a1305f851b406dde" data-gist-hide-footer="true" data-gist-line="115-121"></code></a></p>
											</div>
					-->

<section class="bcls-section">
<h2 id="Swapping_videos">Échanger des vidéos</h2>

<p>Cet exemple montre une approche pour échanger des vidéos dans le lecteur.</p>

<h3>Utiliser des vidéos uniques</h3>

<p>Depuis le <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> méthode est asynchrone lors du déchargement de la vidéo actuelle, vous devez attendre avant d'ajouter une nouvelle vidéo au lecteur. Voici deux options.</p>

<ul>
	<li>
	<p>Étant donné que le temps de récupérer une vidéo à partir de Video Cloud devrait éclipser le temps de mettre à jour la liste de lecture, vous pouvez essayer quelque chose comme ceci :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.clear();

catalog.findVideoByID("123456789", new VideoListener() {
  @Override
  public void onVideo(final Video video) {
    brightcoveVideoView.add(video);
    brightcoveVideoView.start();

  }
});</a></code></pre>
	</li>
	<li>
	<p>Une autre approche consiste à attendre un événement :</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_CHANGE_LIST">catalog.findVideoByID("", new VideoListener() {
@Override
  public void onVideo(final Video video) {
    eventEmitter.once(EventType.DID_CHANGE_LIST, new EventListener() {
    @Override
    public void processEvent(Event event)
    	{ brightcoveVideoView.add(video); brightcoveVideoView.start(); }
  });
  brightcoveVideoView.clear();
  }
});</a></code></pre>
	</li>
</ul>

<h3>Utiliser une liste de lecture</h3>

<p>Si vous travaillez avec une liste de lecture, gardez à l'esprit que l'appel du <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> La méthode supprime tous les éléments de la liste de lecture. Ainsi, vous pouvez obtenir un <code translate="No">IndexOutOfBounds</code> exception lorsque vous essayez de passer à la première vidéo de la liste de lecture.</p>

<p>Au lieu de cela, vous pouvez essayer quelque chose comme ceci :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.pause();
brightcoveVideoView.stopPlayback();
brightcoveVideoView.setCurrentIndex(0);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Switching_between_videos_in_a_playlist">Basculer entre les vidéos d'une liste de lecture</h2>

<p>Si vous utilisez une playlist, vous pouvez utiliser le code suivant pour basculer entre les vidéos de la playlist :</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Playlist.html">private void setupControls(List&lt;Video&gt; videos) {
  previousVideoButton = (Button) findViewById(R.id.previous_video_button);
  nextVideoButton = (Button) findViewById(R.id.next_video_button);

  if (videos != null) {
    previousVideoButton.setEnabled(false);
    previousVideoButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt; 1);
    nextVideoButton.setEnabled((index + 1) &lt; size);

    if (index &gt; 0) {
    brightcoveVideoView.setCurrentIndex(index - 1);
    }
  }
});

nextVideoButton.setEnabled(videos.size() &gt; 1);
nextVideoButton.setOnClickListener(new View.OnClickListener() {
  public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt;= 0);
    nextVideoButton.setEnabled((index + 2) &lt; size);

    if ((index + 1) &lt; size) {
    	brightcoveVideoView.setCurrentIndex(index + 1);
    }
  }
});
}
}</a></code></pre>
</section>
</article>