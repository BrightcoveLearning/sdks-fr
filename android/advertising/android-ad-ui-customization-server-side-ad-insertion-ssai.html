---
title: 'Personnalisation de l'interface utilisateur publicitaire Android avec insertion d'annonces côté serveur (SSAI)' la
description: Dans cette rubrique, vous apprendrez à gérer et à personnaliser les éléments de l'interface utilisateur affichés lors de la lecture d'annonces côté serveur, à l'aide du plug-in SSAI pour le Brightcove Native SDK pour Android.
parent: Advertising 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>

<p>Lorsque vous travaillez avec l'insertion d'annonces côté serveur (SSAI), le Brightcove Native SDK pour Android vous permet de personnaliser les éléments de l'interface utilisateur publicitaire. Pour plus de détails sur SSAI, voir ce qui suit :</p>

<ul>
	<li><a href="/features/implementing-server-side-ads-native-player-sdks.html">Implémentation des publicités côté serveur avec les SDK Native Player</a></li>
</ul>

<p>L'interface utilisateur de la publicité est composée de deux composants principaux :</p>

<ul>
	<li>Superposition d'annonces (A)</li>
	<li>Contrôleur de média publicitaire (B)</li>
</ul>

<figure class="bcls-figure"><img class="bcls-image--no-border" width="800" alt="Ad UI components" src="/assets/images/android/ssai-ad-ui/ad-ui-components.png" />
<figcaption class="bcls-caption--image">Composants de l'interface utilisateur publicitaire</figcaption>
</figure>

<h3>Superposition d'annonces</h3>

<p>La superposition d'annonces est composée des éléments suivants :</p>

<ul>
	<li>Compte à rebours de la durée totale du module publicitaire (A)</li>
	<li>En savoir plus vue (B)</li>
	<li>Ignorer l'affichage de l'annonce (C)</li>
</ul>

<figure class="bcls-figure"><img class="bcls-image--no-border" width="800" alt="Ad overlay" src="/assets/images/android/ssai-ad-ui/ad-overlay.png" />
<figcaption class="bcls-caption--image">Superposition d'annonces</figcaption>
</figure>

<aside class="bcls-aside bcls-aside--information">Le bouton Ignorer l'annonce n'est pris en charge qu'avec l'insertion d'annonces côté serveur VOD (SSAI). Il n'est actuellement pas pris en charge avec Live SSAI.</aside>

<h3>Contrôleur de média publicitaire</h3>

<p>Le contrôleur de média publicitaire est composé de ces composants, de gauche à droite :</p>

<ul>
	<li>Bouton de lecture (A)</li>
	<li>Compte à rebours du numéro d'annonce (B)</li>
	<li>Compte à rebours de la durée de l'annonce unique (C)</li>
	<li>Bouton plein écran (D)</li>
</ul>

<figure class="bcls-figure"><img class="bcls-image--no-border" width="800" alt="Ad media controller" src="/assets/images/android/ssai-ad-ui/ad-media-controller.png" />
<figcaption class="bcls-caption--image">Contrôleur de média publicitaire</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="Managing_ad_UI_components">Gestion des composants de l'interface utilisateur publicitaire</h2>

<p>Pour activer ou désactiver les composants de l'interface utilisateur publicitaire à partir de la vue, consultez les éléments suivants :</p>

<ul>
	<li><a href="#Modifying_the_VAST_document">Modification du document VAST</a></li>
	<li><a href="#Specifying_the_ad_configuration">Spécification de la configuration de l'annonce</a></li>
</ul>

<h3 id="Modifying_the_VAST_document">Modification du document VAST</h3>

<p>Les <strong>Apprendre encore plus</strong> et <strong>Passer la pub</strong> les vues peuvent être affichées ou masquées en fonction de la définition de l'annonce dans le document VAST.</p>

<p>Les <strong>Apprendre encore plus</strong> s'affichera uniquement lorsque la création linéaire contient un <code translate="No">ClickThrough</code> URL, comme indiqué ici :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"> &lt;VAST xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;Ad id="blue-01-5s"&gt;
    &lt;InLine&gt;
      ...
      &lt;Creatives&gt;
        &lt;Creative id="creative-01-5s"&gt;
          &lt;Linear&gt;
            ...
            &lt;VideoClicks&gt;
              <span class="bcls-highlight">&lt;ClickThrough id="clickthrough"&gt;https://www.brightcove.com/en/&lt;/ClickThrough&gt;</span>
              &lt;ClickTracking id="...”&gt;...&lt;/ClickTracking&gt;
            &lt;/VideoClicks&gt;
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;
</code></pre>

<p>Les <strong>Passer la pub</strong> la vue n'apparaîtra que s'il y a un <code translate="No">skipoffset</code> valeur dans la création linéaire :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"> &lt;VAST xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;Ad id="blue-01-5s"&gt;
    &lt;InLine&gt;
      ...
      &lt;Creatives&gt;
        &lt;Creative id="creative-01-5s"&gt;
          <span class="bcls-highlight">&lt;Linear skipoffset="00:00:03"&gt;</span>
            ...
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;
</code></pre>

<h3 id="Specifying_the_ad_configuration">Spécification de la configuration de l'annonce</h3>

<p>Lors de l'utilisation <a href="/features/using-player-enhancements-live-ssai-native-sdks.html#Create_an_ad_configuration">Améliorations du lecteur pour Live SSAI</a> , vous pouvez activer ou désactiver des composants dans le <code translate="No">application_ad_configuration</code> de votre configuration publicitaire. Les <code translate="No">client_options</code> L'objet vous permet d'activer ou de désactiver les composants de l'interface utilisateur publicitaire.</p>

<aside class="bcls-aside bcls-aside--information">La modification de l'interface utilisateur publicitaire à l'aide de la configuration publicitaire s'applique uniquement à Live SSAI.</aside>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "application_ad_configuration": {
	"ad_configuration_description": "$YOUR_DESCRIPTION",
	"ad_configuration_expected_response_type": "Vast",
	"ad_configuration_headers_for_impressions": false,
	"ad_configuration_strategy": "SingleAdResponse",
	"ad_configuration_transforms": [],
	"ad_configuration_url_format": "$YOUR_AD_SERVER",
     <span class="bcls-highlight">"ad_configuration_client_sdk_enabled": true,
     "client_options": {
        "show_ad_break_remaining_time": true / false,
        "show_ad_remaining_time": true / false,
        "show_number_of_remaining_ads": true / false,
        "client_only_tracking": true / false
     }</span>
  },
  "application_description": "$YOUR_DESCRIPTION"
}
</code></pre>

<aside class="bcls-aside bcls-aside--tip">Si vous utilisez un <code translate="No">client_options</code> composants, vous devez avoir <code translate="No">ad_configuration_client_sdk_enabled</code> mis à <code translate="No">true</code>.</aside>

<p>Utilisez l'objet client_options pour activer/désactiver les composants suivants :</p>

<ul>
	<li>:<code translate="No">Show_ad_break_remaining_time</code> Le compte à rebours de la durée totale du module publicitaire

	<ul>
		<li>Exemple: <strong>Votre vidéo reprendra dans 15 secondes</strong></li>
	</ul>
	</li>
	<li>:<code translate="No">Show_ad_remaining_time</code> Le compte à rebours unique de la durée de l'annonce
	<ul>
		<li>Exemple: (0:15)<strong></strong></li>
	</ul>
	</li>
	<li>:<code translate="No">Show_number_of_remaining_ads</code> Le compte à rebours du numéro d'annonce
	<ul>
		<li>Exemple: <strong>Annonce 1 sur 3</strong> , <strong>Annonce 2 sur 3</strong> , etc.</li>
	</ul>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Customizing_the_Ad_Overlay">Personnalisation de la superposition d'annonces</h2>

<p>Vous pouvez personnaliser les vues et le texte par défaut associés à la superposition publicitaire.</p>

<h3>Modification de la vue</h3>

<p>Pour personnaliser la superposition d'annonces, vous pouvez remplacer votre version du <strong>ssai_ad_overlay.xml</strong> fichier de mise en page dans votre application <strong>res</strong> dossier. Ce fichier contient plusieurs mises en page indépendantes différentes, comme illustré ici :</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" width="800" alt="Ad Overlay layouts" src="/assets/images/android/ssai-ad-ui/ad-overlay-layouts.png" />
<figcaption class="bcls-caption--image">Dispositions de superposition d'annonces</figcaption>
</figure>

<p>Par exemple, vous pouvez remplacer l'affichage de la durée de la capsule publicitaire en mettant à jour le <strong>ssai_ad_pod_duration_countdown_view.xml</strong> déposer. Vous pouvez également remplacer l'intégralité de la vue en superposition d'annonces en remplaçant le <strong>ssai_ad_overlay.xml</strong> déposer.</p>

<p>Cette structure de mise en page vous permet de remplacer des composants particuliers tout en maintenant la compatibilité descendante avec les anciennes versions du plug-in SSAI.</p>

<p>Explorez les fichiers de superposition d'annonces à l'aide d'Android Studio. A partir de la version 6.9.0 du Native SDK pour Android, le plugin SSAI <strong>ssai_ad_overlay.xml</strong> ressemble à ça:</p>

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:background="@color/white"&gt;

   &lt;include layout="@layout/ssai_ad_countdown_and_learn_more_overlay"/&gt;
   &lt;include layout="@layout/ssai_ad_skip_overlay"/&gt;
&lt;/FrameLayout&gt;
</code></pre>

<p>Lors du remplacement d'un fichier xml de composant, vous devez utiliser un <code translate="No">TextView</code> avec l'ID de vue d'origine spécifié pour éviter des résultats inattendus. Pour plus de détails, voir le tableau suivant</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Nom du composant</th>
			<th>Identifiant du composant</th>
			<th>Vue des composants</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>Affichage de la durée de la capsule publicitaire</td>
			<td><code translate="No">text_ad_countdown</code></td>
			<td><code translate="No">TextView</code></td>
		</tr>
		<tr>
			<td>En savoir plus voir</td>
			<td><code translate="No">text_ad_learn_more</code></td>
			<td><code translate="No">TextView</code></td>
		</tr>
		<tr>
			<td>Ignorer l'affichage de l'annonce</td>
			<td><code translate="No">text_ad_skip</code></td>
			<td><code translate="No">TextView</code></td>
		</tr>
	</tbody>
</table>

<h3>Modification du texte par défaut</h3>

<p>Tous les composants Ad Overlay sont <code translate="No">TextViews</code>s défini dans votre application <strong>chaîne.xml</strong> déposer. Pour modifier le texte affiché, remplacez-le en créant un <code translate="No">string</code> ou <code translate="No">plurals</code> élément utilisant le même identifiant de chaîne que celui utilisé par le SDK natif pour Android.</p>

<p>Les <strong>Durée de la capsule publicitaire</strong> view utilise les chaînes suivantes :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;plurals name="ssai_message_ad_break_duration_countdown"&gt;
   &lt;item quantity="one"&gt;Your video will resume in\n%1$d second&lt;/item&gt;
   &lt;item quantity="other"&gt;Your video will resume in\n%1$d seconds&lt;/item&gt;
&lt;/plurals&gt;
&lt;string name="ad_info_now_text"&gt;Your video will resume now&lt;/string&gt;
&lt;string name="ad_buffering_text"&gt;Your ad is buffering …&lt;/string&gt;
</code></pre>

<p>Les <strong>Apprendre encore plus</strong> view utilise la chaîne suivante :</p>

<pre>
<code class="language-xml" translate="No">&lt;string name="ssai_message_learn_more"&gt;Learn More &gt;&gt; &lt;/string&gt;
</code></pre>

<p>Les <strong>Passer la pub</strong> view utilise les chaînes suivantes :</p>

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;plurals name="you_can_skip_text"&gt;
   &lt;item quantity="one"&gt;You can skip this ad in\n%d second&lt;/item&gt;
   &lt;item quantity="other"&gt;You can skip this ad in\n%d seconds&lt;/item&gt;
&lt;/plurals&gt;
&lt;string name="skip_text"&gt;Skip Ad&lt;/string&gt;
</code></pre>
</section>

<section class="bcls-section">
<h2 id="Customizing_the_Ad_Media_Controller">Personnalisation du contrôleur de média publicitaire</h2>

<p>Vous pouvez personnaliser les vues et le texte par défaut associés à Ad Media Controller.</p>

<h3>Modification de la vue</h3>

<p>Pour personnaliser le Ad Media Controller, vous pouvez remplacer votre version du <strong>default_ssai_ad_media_controller.xml</strong> fichier de mise en page dans votre application <strong>res</strong> dossier.</p>

<p>Cela remplace la disposition par défaut utilisée dans le plugin SSAI. Chaque fois qu'une annonce est détectée, le plug-in SSAI bascule vers cette mise en page, puis revient au contrôleur par défaut lorsque l'annonce est terminée.</p>

<p>Lorsque vous travaillez avec votre propre mise en page, utilisez le même type de vue et les mêmes identifiants de vue que ceux spécifiés à l'origine pour éviter des résultats inattendus. Explorez la disposition Ad Media Controller à l'aide d'Android Studio. Pour le plugin SSAI version 6.9.0, le <strong>default_ssai_ad_media_controller.xml</strong> ressemble à ça:</p>

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;com.brightcove.player.mediacontroller.BrightcoveControlBar
   xmlns:android="http://schemas.android.com/apk/res/android"
   xmlns:tools="http://schemas.android.com/tools"
   android:id="@+id/brightcove_control_bar"
   style="@style/SSAIAdControlBar"
   android:layout_width="match_parent"
   android:layout_height="wrap_content"
   android:layout_gravity="bottom"
   android:background="@color/bmc_background"
   android:orientation="vertical"
   android:padding="8dp"&gt;

   &lt;LinearLayout
       android:layout_width="match_parent"
       android:layout_height="wrap_content"
       android:gravity="bottom"
       android:orientation="horizontal"&gt;

       &lt;Button style="@style/BorderlessButton"
           android:id="@id/play"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:text="@string/brightcove_controls_play"
           android:visibility="gone"
           tools:visibility="visible"/&gt;

       &lt;include layout="@layout/ssai_ad_number_countdown_view"/&gt;

       &lt;include layout="@layout/ssai_single_ad_duration_countdown_view"/&gt;

       &lt;View
           android:id="@id/two_line_spacer"
           android:layout_width="0dp"
           android:layout_height="0dp"
           android:layout_weight="1"
           android:visibility="gone"
           tools:visibility="visible"/&gt;

       &lt;Button style="@style/BorderlessButton"
           android:id="@id/full_screen"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:padding="4dp"
           android:text="@string/brightcove_controls_enter_full_screen"
           android:visibility="gone"
           tools:visibility="visible"/&gt;
   &lt;/LinearLayout&gt;

&lt;/com.brightcove.player.mediacontroller.BrightcoveControlBar&gt;
</code></pre>

<p>Les types de vue et les identifiants de vue du composant SSAI Ad Media Controller sont décrits ici :</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Nom du composant</th>
			<th>Identifiant du composant</th>
			<th>Vue des composants</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>Bouton jouer</td>
			<td><code translate="No">play</code></td>
			<td>Bouton</td>
		</tr>
		<tr>
			<td>Bouton plein écran</td>
			<td><code translate="No">full_screen</code></td>
			<td>Bouton</td>
		</tr>
		<tr>
			<td>Compte à rebours du numéro d'annonce</td>
			<td><code translate="No">text_ad_number_countdown</code></td>
			<td>Affichage</td>
		</tr>
		<tr>
			<td>Compte à rebours de la durée de l'annonce unique</td>
			<td><code translate="No">text_single_ad_duration_countdown</code></td>
			<td>Affichage</td>
		</tr>
	</tbody>
</table>

<p>Vérifiez <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/CustomizedControlsSampleApp">Exemple d'application de contrôles personnalisés</a> , où le contrôleur multimédia par défaut est personnalisé pour ajouter de nouveaux boutons. Vous pouvez appliquer la même approche pour personnaliser votre SSAI Ad Media Controller.</p>

<h3>Modification du texte par défaut</h3>

<p>Tous les composants Ad Media Controller sont <code translate="No">TextViews</code>s défini dans votre application <strong>chaîne.xml</strong> déposer. Pour modifier le texte affiché, remplacez-le en créant un <code translate="No">string</code> ou <code translate="No">plurals</code> élément utilisant le même identifiant de chaîne que celui utilisé par le SDK natif pour Android.</p>

<p>Les <strong>Compte à rebours du numéro d'annonce</strong> view utilise la chaîne suivante :</p>

<pre>
<code class="language-xml" translate="No">&lt;string name="ssai_message_ad_number_countdown"&gt;Ad %1$d of %2$d&lt;/string&gt;
</code></pre>

<p>Les <strong>Compte à rebours de la durée de l'annonce unique</strong> view utilise la chaîne suivante :</p>

<pre>
<code class="language-xml" translate="No">&lt;string name="ssai_message_ad_duration_countdown"&gt;(%1$s)&lt;/string&gt;
</code></pre>
</section>

<section class="bcls-section">
<h2 id="Summary">Sommaire</h2>

<p>Vous disposez de quelques options pour personnaliser les éléments de l'interface utilisateur SSAI. Le niveau de complexité dépendra de ce que vous voulez atteindre. Du niveau de complexité faible à élevé, vous pouvez :</p>

<ul>
	<li>Configurer/masquer certains composants via votre configuration VAST</li>
	<li>Afficher/masquer les composants à l'aide du <code translate="No">client_options</code> objet dans votre configuration d'annonce (actuellement Live SSAI uniquement)</li>
	<li>Modifier la valeur de chaîne affichée</li>
	<li>Remplacer la disposition de l'interface utilisateur</li>
</ul>

<p>S'il vous plaît partager toutes les idées ou commentaires que vous avez dans le <a href="https://groups.google.com/forum/#!forum/brightcove-native-player-sdks">Forum Brightcove Native Player SDK</a>.</p>
</section>
</article>