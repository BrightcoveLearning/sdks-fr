---
title: 'Sélection HEVC avec le SDK natif pour Android' la
description: Dans cette rubrique, vous apprendrez comment le Brightcove Native SDK pour Android sélectionne les sources HEVC et les rendus.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>
<p>
  Le codage vidéo à haute efficacité (HEVC), également connu sous le nom de H.265, est une norme de compression vidéo qui réduit la taille des fichiers vidéo permettant une lecture de meilleure qualité.
</p>
<p>
  Le Brightcove Native SDK pour Android utilise le processus de sélection HEVC suivant :
</p>
<ol>
	<li><a href="#HEVC_source_selection">Sélection de la source HEVC</a></li>
  <li>
    <a href="#HEVC_rendition_selection">Sélection de rendu HEVC</a>
  </li>
</ol>
<aside class="bcls-aside bcls-aside--information">
  <p>
    Remarques:
  </p>
  <ul>
    <li>
      Pris en charge avec le Brightcove Native SDK pour Android 6.13.1+
    </li>
    <li>
      Fonctionne avec les appareils Android utilisant l'API niveau 21 (Lollipop version 5.0) et supérieur
    </li>
  </ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="HEVC_source_selection">Sélection de la source HEVC</h2>
<p>Le processus de sélection de la source HEVC commence après que vous ayez fait une demande de vidéo à l'aide de Brightcove <code translate="No">Catalog</code>.</p>
<p>
  Selon la configuration de votre compte, le <code translate="No">Catalog</code> La réponse peut contenir plusieurs sources, avec ou sans rendus HEVC. Voici un exemple:
</p>
<pre class="line-numbers"><code class="language-json" translate="No"> &quot;sources&quot;: [
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=ZYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  }
]</code></pre>
<p>
  Dans cet exemple, il existe quatre sources DASH :
</p>
<ul>
  <li>
    Une source HTTP non HEVC
  </li>
  <li>
    Une source HTTPS non HEVC
  </li>
  <li>
    Une source HTTP HEVC
  </li>
  <li>
    Une source HTTPS HEVC
  </li>
</ul>
<p>
  Notez que les sources HEVC contiennent la chaîne <code translate="No">hvc</code> dans l'URL.
</p>
<p>
  Le sélecteur de source du SDK natif pour Android préfère les sources HEVC. Dans l'exemple ci-dessus, il sélectionnera la source HEVC HTTPS.
</p>
<p>
  Le SDK natif continue avec le processus de sélection par défaut tel que défini dans le <a href="https://support.brightcove.com/android-source-selection">Android: Sélection de la source</a> document:
</p>
<ol>
  <li>
    Préférez HTTPS à HTTP
  </li>
  <li>
    Préférez DASH à HLS
  </li>
  <li>
    Si vous sélectionnez HLS pour la lecture, préférez la version la plus élevée de HLS disponible
  </li>
</ol>

</section>

<section class="bcls-section">
<h2 id="HEVC_rendition_selection">Sélection de rendu HEVC</h2>
<p>Selon vos configurations d'ingestion, la source HEVC peut être contenue dans différents rendus. Vous pouvez avoir les éléments suivants :</p>
<ul>
  <li>
    <a href="#Only_HEVC_renditions">Uniquement les rendus HEVC</a>
  </li>
  <li>
    <a href="#A_mix_of_HEVC_and_other_codecs">Un mélange de HEVC et d'autres codecs</a>
  </li>
</ul>
<aside class="bcls-aside bcls-aside--information">Ce type de sélection s'applique uniquement lors de l'utilisation d'ExoPlayer.</aside>

<h3 id="Only_HEVC_renditions">Uniquement les rendus HEVC</h3>
<p>
  Lorsque les rendus de la source vidéo n'ont que des codecs HEVC, aucune sélection de rendu n'est impliquée. L'ExoPlayer sélectionne le rendu approprié en fonction des capacités de l'appareil et de la bande passante disponible.
</p>

<h3 id="A_mix_of_HEVC_and_other_codecs">Un mélange de HEVC et d'autres codecs</h3>
<p>
  Si la source vidéo a des rendus avec un mélange de HEVC et d'autres codecs (comme AVC), alors un processus de sélection de rendu est invoqué. Lorsque le SDK natif charge la source dans l'ExoPlayer, il effectue un <a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html">Remplacer la sélection</a> pour que le rendu vidéo préfère HEVC aux autres codecs.
</p>
<p>
  Étant donné une vidéo dont les formats de rendu sont pris en charge par l'appareil, voici le processus de rendu :
</p>
<ol>
  <li>
    Le SDK natif sélectionne tous les rendus HEVC.
  </li>
  <li>
    Il ignore les rendus non HEVC qui dupliquent un HEVC existant avec la même résolution.
  </li>
</ol>

<p>
  Cela oblige ExoPlayer à préférer HEVC dans la plupart des cas. Voici deux scénarios possibles :
</p>
<ul>
  <li>
    <a href="#Codec_mix_duplication">Duplication de mix de codecs</a>
  </li>
  <li>
    <a href="#Half_and_half">Moitié moitié</a>
  </li>
</ul>

<h4 id="Codec_mix_duplication">Duplication de mix de codecs</h4>
<p>
  Dans ce scénario, la plupart des résolutions des codecs HEVC et AVC sont dupliquées. Par exemple:
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1989000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;2478000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3458000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  Compte tenu des rendus vidéo ci-dessus, le Brightcove Natvie SDK sélectionnera les rendus suivants :
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  Notez qu'un seul rendu AVC a été sélectionné, car sa résolution ne duplique pas un rendu HEVC existant.
</p>

<h4 id="Half_and_half">Moitié moitié</h4>
<p>
  Dans ce scénario, il existe des rendus de résolution inférieure avec le codec AVC et des rendus de résolution supérieure avec le codec HVC. Par exemple:
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  Dans ce cas, comme il n'y a pas de codecs AVC avec des résolutions dupliquant les rendus HEVC, le SDK natif sélectionne tous les rendus, permettant à ExoPlayer de sélectionner les rendus en fonction de la bande passante disponible.
</p>
<p>
  Le SDK natif ne force pas la sélection HEVC dans tous les cas dans ce scénario, pour éviter de limiter le rendu le plus bas à un rendu HEVC à haut débit. Cela pourrait potentiellement provoquer une mauvaise expérience utilisateur avec une mauvaise connexion réseau.
</p>
</section>

</article>