---
title: Définition de la vitesse de lecture sur les appareils Android Description : Dans cette rubrique, vous apprendrez comment ajouter une fonctionnalité de lecture à vitesse variable aux applications à l'aide du Brightcove Native SDK pour Android.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">introduction</h2>

<p>Pour certaines de vos applications, vous souhaiterez peut-être permettre à l'utilisateur de modifier la vitesse de lecture pendant qu'il regarde des vidéos (c'est-à-dire des environnements d'apprentissage en ligne). Vous pouvez ajouter cette fonctionnalité avec le SDK natif pour Android.</p>
<p>Dans votre classe d'activité de lecteur, vous pouvez créer un menu de dialogue pour sélectionner parmi une liste souhaitée de vitesses de lecture.</p>

</section>

<section class="bcls-section">
<h2 id="Implementation">Mise en œuvre</h2>

<p>Pour ajouter une lecture à vitesse variable à votre application Android, procédez comme suit :</p>
<ol class="bcls-tasklist">
  <li>
    <p>Tout d'abord, créez le menu dans lequel vous pouvez sélectionner une vitesse. Ici, nous utiliserons un <code translate="No">TextView</code> qui, une fois tapé, ouvrira le menu qui contient les valeurs de vitesse. Les autres options de menu incluent Spinners.</p>
    <pre><code class="language-java" translate="No">private TextView playbackSpeed;</code></pre>
    <p>Ensuite, ajoutez le <code translate="No">TextView</code> à ton <code translate="No">Activity</code> disposition:</p>
    <pre class="line-numbers"><code class="language-java" translate="No">&lt;com.brightcove.player.view.BrightcoveExoPlayerVideoView
   android:id=&quot;@+id/brightcove_video_view&quot;
   android:layout_width=&quot;match_parent&quot;
   android:layout_height=&quot;280dp&quot;
   android:layout_gravity=&quot;center_horizontal|top&quot;/&gt;

&lt;LinearLayout
   android:layout_width=&quot;match_parent&quot;
   android:layout_height=&quot;wrap_content&quot;
   android:orientation=&quot;horizontal&quot;
   android:layout_gravity=&quot;center_vertical&quot;
   android:layout_below=&quot;@id/brightcove_video_view&quot;
   android:padding=&quot;20dp&quot;&gt;

   &lt;TextView
       android:id=&quot;@+id/playbackSpeed&quot;
       android:layout_width=&quot;match_parent&quot;
       android:layout_height=&quot;wrap_content&quot;
       android:gravity=&quot;end&quot;
       android:padding=&quot;20dp&quot;
       android:text=&quot;Change Speed&quot;
       android:textAlignment=&quot;textEnd&quot; /&gt;

&lt;/LinearLayout&gt;</code></pre>
  </li>
  <li>
    <p>Ajoutez le contrôle de vitesse de lecture à votre lecteur <code translate="No">Activity</code>:</p>
    <pre class="line-numbers"><code class="language-java" translate="No">playbackSpeed = (TextView) findViewById(R.id.playbackSpeed);
playbackSpeed.setVisibility(View.VISIBLE);</code></pre>
  </li>
  <li>
    <p>Définir un <code translate="No">onClick</code> auditeur sur le <code translate="No">TextView</code>:</p>
    <pre class="line-numbers"><code class="language-java" translate="No">playbackSpeed.setOnClickListener(new View.OnClickListener() {
   @Override
   public void onClick(View v) {
       showPlayerSpeedDialog();
   }
});
</code></pre>
  </li>
  <li>
    <p>Ajoutez une méthode pour afficher la boîte de dialogue de vitesse du lecteur :</p>
    <pre class="line-numbers"><code class="language-java" translate="No">private void showPlayerSpeedDialog() {
   String[] playerSpeedArrayLabels = {&quot;0.8x&quot;, &quot;1.0x&quot;, &quot;1.2x&quot;, &quot;1.5x&quot;, &quot;1.8x&quot;, &quot;2.0x&quot;};

   PopupMenu popupMenu = new PopupMenu(MainActivity.this, playbackSpeed);
   for (int i = 0; i &lt; playerSpeedArrayLabels.length; i++) {
       popupMenu.getMenu().add(i, i, i, playerSpeedArrayLabels[i]);
   }
   popupMenu.setOnMenuItemClickListener(item -&gt; {
       int id = item.getItemId();
       CharSequence itemTitle = item.getTitle();
       float playbackSpeed = Float.parseFloat(itemTitle.subSequence(0, 3).toString());
       changePlayerSpeed(playbackSpeed, itemTitle.subSequence(0, 3).toString());
       return false;
   });
   popupMenu.show();
}
</code></pre>
  </li>
  <li>
    <p>Ajoutez une méthode pour modifier la vitesse du lecteur à la valeur sélectionnée dans le menu. De plus, la méthode peut définir la valeur sélectionnée dans l'étiquette pour le <code translate="No">TextView</code>:</p>
    <pre class="line-numbers"><code class="language-java" translate="No">private void changePlayerSpeed(float speed, String speedLabel) {
   // Set playback speed
   ((ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay()).getExoPlayer().setPlaybackParameters(new PlaybackParameters(speed, 1.0f));
   // Set playback speed label
   playbackSpeed.setText(&quot;Speed: &quot; + speedLabel + &quot;x&quot;);
}
</code></pre>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Handling_playback_problems">Gestion des problèmes de lecture</h2>
<p>Si vous rencontrez des problèmes pour régler des vitesses de lecture supérieures ou inférieures, envisagez de restreindre l'affichage du contrôle de vitesse de lecture ou de restreindre les vitesses disponibles, en fonction de :</p>

<ul>
  <li>
    <p>Niveau du système d'exploitation en utilisant :</p>
    <pre><code class="language-java" translate="No">Build.VERSION_CODES.&lt;API_LEVEL&gt;</code></pre>
  </li>
  <li>
    <p>Fabricant utilisant : (la fiabilité n'est pas garantie)</p>
    <pre><code class="language-java" translate="No">Build.MANUFACTURER
or
Build.BRAND
</code></pre>
  </li>
  <li>
    <p>Profil matériel (TV ou téléphone/mobile) en vérifiant la valeur booléenne de :</p>
    <pre><code class="language-java" translate="No">BrightcoveMediaController.checkTvMode(Context context)</code></pre>
  </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Limitations">Limites</h2>
<p>Il est important de noter que s'il est possible de régler la vitesse de lecture avec l'ExoPlayer et le Brightcove Native SDK pour Android, cela ne garantit pas que la définition d'une vitesse de lecture donnée offrira une expérience de visualisation et d'écoute transparente.</p>
<p>Les tests ont révélé qu'il est possible de définir une vitesse de lecture qui sera trop élevée pour les anciennes versions du système d'exploitation et les appareils moins performants à gérer sans une dégradation inacceptable de la qualité audio et vidéo.</p>

<p>si vous souhaitez mettre en œuvre un contrôle de la vitesse de lecture, il est recommandé de prendre en compte les éléments suivants :</p>
<ul>
  <li>Quel est le plus ancien niveau de système d'exploitation Android auquel mon application est destinée ?
    <ul>
      <li>Les systèmes d'exploitation plus anciens peuvent ne pas prendre en charge les codecs appropriés pour des vitesses de lecture supérieures ou inférieures à la normale</li>
      <li>Les systèmes d'exploitation plus anciens peuvent avoir des jeux de puces plus anciens qui ne peuvent pas traiter les données vidéo et audio de manière performante</li>
    </ul>
  </li>
  <li>Mon contenu est-il protégé par DRM ? 
    <ul>
      <li>Étant donné que les tests ont révélé certains problèmes liés aux DRM avec la vitesse de lecture, nous ne voulons pas exclure la possibilité de problèmes de décryptage lors de la lecture à des vitesses supérieures ou inférieures à la normale.</li>
    </ul></li>
  <li>Mon contenu utilise-t-il des sous-titres codés ou plusieurs pistes audio ? 
    <ul>
      <li>L'activation ou la désactivation des sous-titres, ou le basculement entre les sous-titres, en particulier sur les anciens appareils ou les niveaux de système d'exploitation, est une circonstance à prendre en compte.</li>
    </ul></li>
</ul>
</section>

</article>