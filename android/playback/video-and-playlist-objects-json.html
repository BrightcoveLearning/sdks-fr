---
title: 'Objets vidéo et liste de lecture de JSON' la
description: Dans cette rubrique, vous apprendrez à créer des objets vidéo et de liste de lecture lisibles en appelant des méthodes d'assistance dans le Brightcove Native SDK pour Android avec les données au format JSON requises.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>

<p>Depuis la version 6.2.0+, le Brightcove Native SDK pour Android prend en charge les méthodes de création d'objets vidéo et playlist à partir d'un objet JSON.</p>

<p>Ceci est utile si vous souhaitez utiliser un proxy côté serveur pour récupérer les données de vidéo et de liste de lecture de votre compte Brightcove. Avec cette approche, vous n'exposerez pas vos clés de stratégie du côté client de vos applications.</p>

<p>Pour créer un objet vidéo et playlist lisible, procédez comme suit :</p>

<ol class="bcls-tasklist">
	<li>Optionnel: Faites un appel côté serveur à l'API de lecture pour renvoyer vos données de vidéo ou de liste de lecture.</li>
	<li>Créez un objet au format JSON en fonction des champs obligatoires ci-dessous.</li>
	<li>Transmettez l'objet au format JSON et appelez la méthode appropriée pour créer ce qui suit :
	<ul>
		<li><a href="#Video_objects">Objets vidéo</a></li>
		<li><a href="#Playlist_objects">Objets de liste de lecture</a></li>
	</ul>
	</li>
	<li>Chargez la vidéo ou la liste de lecture renvoyée dans votre lecteur.</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Video_objects">Objets vidéo</h2>

<p>Pour créer un objet vidéo, transmettez les informations suivantes au <code translate="No">buildVideoFromJSON()</code> méthode:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Champ</th>
			<th>La description</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">account_id</code></td>
			<td>L'identifiant du compte associé à la vidéo</td>
		</tr>
		<tr>
			<td><code translate="No">id</code></td>
			<td>L'identifiant de la vidéo</td>
		</tr>
		<tr>
			<td><code translate="No">sources</code></td>
			<td>Un tableau JSON de sources vidéo. Chaque source du tableau doit avoir :
			<ul>
				<li>Un champ src avec une URL valide vers le contenu</li>
				<li>Pour le contenu HLS ou DASH, un champ type avec le type mime du contenu</li>
				<li>Pour le contenu MP4, une rubrique Conteneur avec la valeur <strong>MP4</strong></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">duration</code></td>
			<td>La durée de la vidéo en millisecondes</td>
		</tr>
	</tbody>
</table>
<br/>

<p>Lorsque votre proxy côté serveur renvoie des données vidéo, créez une chaîne d'objet JSON avec les valeurs spécifiées dans le tableau ci-dessus.</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "account_id": "3636334163001",
  "sources": [
  {
    "src": "http://f1.media.brightcove.com/4/36356334163001/3636334163001_3637454559001_Cascada-Teaser.mp4",
    "container": "MP4"
  }, {
    "type": "application/x-mpegURL",
    "src": "http://c.brightcove.com/services/mobile/streaming/index/master.m3u8"
  }],
  "id": "3637780364001",
  "duration": 74700
}</code></pre>
<br/>

<p>Convertissez la chaîne JSON en objet JSON et transmettez-la au <code translate="No">buildVideoFromJSON()</code> méthode:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">try {
   JSONObject jsonObject = new JSONObject(response);
   Video video = VideoParser.buildVideoFromJSON(jsonObject, eventEmitter);
  } catch (JSONException e) {
    e.printStackTrace();
  } catch (VideoParseException e) {
    e.printStackTrace();
  }</code></pre>
</section>

<section class="bcls-section">
<h2 id="Playlist_objects">Objets de liste de lecture</h2>

<p>Pour créer un objet de liste de lecture, transmettez les informations suivantes au <code translate="No">buildPlaylistFromJSON()</code> méthode:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Champ</th>
			<th>La description</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">account_id</code></td>
			<td>L'identifiant du compte associé à la vidéo</td>
		</tr>
		<tr>
			<td><code translate="No">id</code></td>
			<td>L'identifiant de la vidéo</td>
		</tr>
		<tr>
			<td><code translate="No">videos</code></td>
			<td>Un tableau JSON d'objets vidéo. Cela inclut les champs obligatoires tels que décrits dans le <a href="#Video_objects">Objets vidéo</a> section.</td>
		</tr>
		<tr>
			<td><code translate="No">duration</code></td>
			<td>La durée de la vidéo en millisecondes</td>
		</tr>
	</tbody>
</table>
<br/>

<p>Lorsque votre proxy côté serveur renvoie des données de liste de lecture, créez une chaîne d'objet JSON avec les valeurs spécifiées dans le tableau ci-dessus.</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "id": "4970066630001",
  "account_id": "3636335163001",
  "name": "token auth playlist",
  "videos": [{
    "account_id": "3636335763001",
    "id": "4973773347001",
    "sources": [{
      "type": "application/dash+xml",
      "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/3636334163001/201606/1923/3636334163001_4973820156001_4973773237001.mpd"
    }],
    "duration": 29000
    },
    {
    "account_id": "3636334463001",
    "id": "4973766826001",
    "sources": [{
      "type": "application/dash+xml",
      "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/3636334163001/201606/2933/3636334163001_4973816542001_4973737826001.mpd"
    }],
    "duration": 29000
    }
  ]
}</code></pre>
<br/>

<p>Convertissez la chaîne JSON en objet JSON et transmettez-la au <code translate="No">buildPlaylistFromJSON()</code> méthode:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">try {
   JSONObject jsonObject = new JSONObject(response);
   Playlist playlist = VideoParser.buildPlaylistFromJSON(jsonObject, eventEmitter);
  } catch (JSONException e) {
    e.printStackTrace();
  } catch (VideoParseException e) {
    e.printStackTrace();
  }</code></pre>
</section>

<section class="bcls-section">
<h2 id="Notes">Remarques</h2>

<p>Si votre contenu est régi par le TTL (Time to live) et que vous souhaitez créer un objet vidéo de longue durée, vous devrez vous assurer qu'il reste lisible. Ceci est configuré sur le CDN que vous utilisez.</p>
</section>
</article>