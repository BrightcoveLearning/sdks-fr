---
title: 'Implémentation des publicités côté serveur avec les SDK natifs' la
description: Dans cette rubrique, vous apprendrez à lire des publicités côté serveur avec les kits SDK Brightcove Native Player, à partir de vidéos ingérées pour Dynamic Delivery.
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>

<p>L'insertion d'annonces côté serveur (SSAI) vous permet d'intégrer des publicités dans vos vidéos afin qu'elles ne puissent pas être bloquées par des bloqueurs de publicités dans le navigateur. Dynamic Delivery est le système d'acquisition et de livraison de nouvelle génération qui réduit votre empreinte de stockage et emballe dynamiquement les médias. En savoir plus sur l'utilisation <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">Livraison dynamique</a> pour vos vidéos.</p>

<p>SSAI fonctionne avec le contenu DRM et non DRM.</p>

<aside class="bcls-aside bcls-aside--information">Remarques:
<ul>
	<li>Pour utiliser SSAI, votre compte Video Cloud doit être configuré pour <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">Livraison dynamique</a> et activé pour SSAI. Contactez votre gestionnaire de compte pour commencer à utiliser cette fonctionnalité.</li>
	<li>SSAI fonctionne avec la vidéo à la demande (VOD) et prend en charge la lecture en direct.</li>
	<li>Pour une liste des limitations, consultez le <a href="https://ssai.support.brightcove.com/getting-started/video-cloud-ssai-overview.html#Limitations">Aperçu de la SSAI</a> document.</li>
</ul>
</aside>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Server-side ad" src="/assets/images/android/ssai/ssai-sdk.png" />
<figcaption class="bcls-caption--image">Annonce côté serveur</figcaption>
</figure>

<p>Toute vidéo que vous récupérez de Video Cloud qui a été ingérée avec Dynamic Delivery inclura les publicités spécifiées dans le fichier VMAP dans votre configuration publicitaire.</p>

<p>Pour diffuser des publicités côté serveur avec votre contenu vidéo stocké dans Video Cloud, procédez comme suit :</p>

<ol class="bcls-tasklist">
	<li><a href="#Create_an_ad_configuration">Créer une configuration d'annonce</a></li>
	<li>
	<p>Créez votre application :</p>

	<ul>
		<li><a href="#Android_implementation">Implémentation Android</a></li>
		<li><a href="#iOS_implementation">Implémentation iOS</a></li>
		<li><a href="#tvOS_implementation">Implémentation de tvOS</a></li>
	</ul>
	</li>
	<li><a href="#Play_a_video_with_ads">Lire une vidéo avec des publicités</a></li>
	<!-- <li><a href="#Append_query_parameters">Append query parameters</a></li> -->
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_an_ad_configuration">Créer une configuration d'annonce</h2>

<p>La configuration publicitaire définit divers aspects de la lecture SSAI, y compris une URL vers votre fichier VMAP (Video Multiple Ad Playlist), des balises et d'autres configurations. Pour créer une configuration d'annonce, procédez comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Dans Video Cloud Studio, développez le <strong>ADMINISTRER</strong> menu et sélectionnez <strong>Paramètres d'annonce côté serveur</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad configuration admin" src="/assets/images/android/ssai/ad-config-admin.png" />
	<figcaption class="bcls-caption--image">Administrateur de configuration des annonces</figcaption>
	</figure>
	</li>
	<li>
	<p>Ajoutez des informations pour la configuration de votre annonce et sélectionnez <strong>sauvegarder</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad settings" src="/assets/images/android/ssai/ad-settings.png" />
	<figcaption class="bcls-caption--image">Paramètres des annonces</figcaption>
	</figure>
	</li>
</ol>

<p>Pour plus de détails, consultez le <a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">Configuration des paramètres d'annonce côté serveur</a> document.</p>

<p>Pour créer une configuration publicitaire à l'aide de l'API SSAI, consultez le <a href="https://ssai.support.brightcove.com/vod/guides/video-cloud-ssai-ad-config-api.html">API de configuration d'annonces Video Cloud SSAI</a> document.</p>
</section>

<section class="bcls-section">
<h2 id="Android_implementation">Implémentation Android</h2>

<p>Suivez ces étapes dans votre application pour obtenir la configuration de votre annonce et lire votre vidéo :</p>

<ol class="bcls-tasklist-restart">
	<li>Dans Android Studio, ouvrez votre <strong>MainActivity.java</strong> déposer.</li>
	<li>Ajoutez les instructions d'importation suivantes :
	<pre>
<code class="language-java" translate="No">import com.brightcove.ssai.SSAIComponent;
import com.brightcove.player.network.HttpRequestConfig;</code></pre>
	</li>
	<li>Définissez des constantes pour votre identifiant de compte, votre clé de stratégie, votre identifiant vidéo et votre identifiant de configuration d'annonce.
	<pre class="line-numbers">
<code class="language-swift" translate="No">private String accountId = "<span class="bcls-input">your account id</span>";
private String policyKey = "<span class="bcls-input">your policy key</span>";
private String videoId = "<span class="bcls-input">your video id</span>";
private String adConfigId = "<span class="bcls-input">your ad configuration id</span>";</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Découvrez comment obtenir ou générer une clé de stratégie dans le <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Clés de stratégie</a> document.</aside>
	</li>
	<!-- <li>In the <code translate="No">onCreate</code> method, set the query parameter value to your ad configuration id.
  	<pre class="line-numbers">
<code class="language-swift" translate="No">Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();
      parameters.put("ad_config_id", adConfigId);
      </code></pre>
  	</li> -->
	<li>Créez une instance du service de catalogue, qui fournit des méthodes asynchrones pour récupérer les données de l'API Playback. Créez une instance du composant SSAI.
	<pre class="line-numbers">
<code class="language-swift" translate="No">Catalog catalog = new Catalog(eventEmitter, myAccountId, myPolicyKey);
SSAIComponent plugin = new SSAIComponent(appContext, getBrightcoveVideoView());
</code></pre>
	</li>
	<li>Définissez adConfigId en tant que paramètre d'URL.
	<pre class="line-numbers">
<code class="language-java" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
  .addQueryParameter("ad_config_id", myAdConfig)
  .build();</code></pre>
	</li>
	<li>Appelez le service de catalogue pour récupérer votre vidéo ainsi que votre configuration publicitaire à partir de l'API Playback. Démarrez la lecture vidéo avec vos annonces spécifiées.
	<pre class="line-numbers">
<code class="language-swift" translate="No">catalog.findVideoByID(myVideoId, httpRequestConfig, new VideoListener() {
    @Override
    public void onVideo(Video video) {

    // Process the Video
    plugin.processVideo(video);
  }
});</code></pre>
	</li>
</ol>

<h3>Légendes</h3>
<aside class="bcls-aside bcls-aside--information">Le SDK natif pour Android ne prend en charge que les sous-titres dans le manifeste avec SSAI. Les légendes latérales (ou distantes) peuvent ne pas se synchroniser avec le contenu et les coupures publicitaires.</aside>

<h3>Événements</h3>
<p>Pour plus d'informations sur les événements associés à l'insertion d'annonces côté serveur, consultez les éléments suivants :</p>
<ul>
	<li><a href="/android/reference/javadoc/com/brightcove/ssai/event/SSAIEventType.html">Types d'événements SSAI</a></li>
</ul>

<h3>Chercher sans publicité</h3>
<p>Lorsque vous souhaitez désactiver la lecture d'annonces pendant que l'utilisateur recherche dans la vidéo, reportez-vous à la <a href="/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">Chercher sans publicité</a> extrait de code.</p>

<h3>Exemple de code</h3>
<p>Voici un exemple de code complet :</p>
<ul>
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSsaiSampleApp">Basic SSAI Player utilisant le SDK natif pour Android</a></li>
</ul>

<!-- <h3>Related topics</h3>
<p>For more details, see the following:</p>
<ul>
	<li><a href="/android/advertising/ssai-plugin-native-sdk-android.html">The SSAI Plugin for the Native SDK for Android</a></li>
	<li><a href="/android/advertising/ssai-plugin-native-sdk-android.html#Migrating_from_the_OnceUx_Plugin">Migrating from the OnceUX plugin</a></li>
</ul> -->
</section>

<section class="bcls-section">
<h2 id="iOS_implementation">Implémentation iOS</h2>

<p>Suivez ces étapes dans votre application pour obtenir la configuration de votre annonce et lire votre vidéo :</p>

<ol class="bcls-tasklist-restart">
	<li>Dans Xcode, ouvrez votre <strong>ViewController.m</strong> déposer.</li>
	<li>Importez le plugin SSAI pour iOS.
	<pre>
<code class="language-swift" translate="No">import BrightcoveSSAI</code></pre>
	</li>
	<li>Définissez des constantes pour votre identifiant de compte, votre clé de stratégie, votre identifiant vidéo et votre identifiant de configuration d'annonce.
	<pre class="line-numbers">
<code class="language-swift" translate="No">struct Constants {
  static let AccountID = "<span class="bcls-input">your account id</span>"
  static let PlaybackServicePolicyKey = "<span class="bcls-input">your policy key</span>"
  static let VideoId = "<span class="bcls-input">your video id</span>"
  static let AdConfigId = "<span class="bcls-input">your ad configuration id</span>"
}</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Découvrez comment obtenir ou générer une clé de stratégie dans le <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Clés de stratégie</a> document.</aside>
	</li>
	<!-- <li>
      Define the view along with the companion view for ads.
      <pre class="line-numbers"><code class="language-swift" translate="No">class ViewController: UIViewController {
    @IBOutlet weak var videoContainerView: UIView!
    @IBOutlet weak var companionSlotContainerView: UIView!</code></pre>
    </li> -->
	<li>Définir le <code translate="No">BCOVPlaybackService</code> classe, qui fournit des méthodes asynchrones pour récupérer des données à partir de l'API Playback.
	<pre class="line-numbers">
<code class="language-swift" translate="No">private lazy var playbackService: BCOVPlaybackService = {
  let factory = BCOVPlaybackServiceRequestFactory(accountId: Constants.AccountID, policyKey: Constants.PlaybackServicePolicyKey, baseURLStr: "https://edge.api.brightcove.com/playback/v1")
  return BCOVPlaybackService(requestFactory: factory)
}()</code></pre>
	</li>
	<li>Définissez la valeur du paramètre de requête sur votre identifiant de configuration d'annonce.
	<pre>
<code class="language-swift" translate="No">let queryParameters = [kBCOVPlaybackServiceParamaterKeyAdConfigId: Constants.AdConfigId]</code></pre>
	</li>
	<li>
	<p>Appeler le <code translate="No">playbackService</code> pour récupérer votre vidéo ainsi que votre configuration publicitaire à partir de l'API Playback. Démarrez la lecture vidéo avec vos annonces spécifiées.</p>

	<pre class="line-numbers">
<code class="language-swift" translate="No">playbackService.findVideo(withVideoID: Constants.VideoId, parameters: queryParameters) { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in

  guard let _video = video else {
    print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
    return
  }

  self?.playbackController?.setVideos([_video] as NSFastEnumeration)
}</code></pre>
	</li>
</ol>

<h3>Événements</h3>
<p>Pour plus d'informations sur les événements associés à l'insertion d'annonces côté serveur, consultez les éléments suivants :</p>
<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai/blob/master/ios/dynamic/BrightcoveSSAI.framework/Headers/BCOVSSAIConstants.h">Événements SSAI</a></li>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVAdvertising.h">Événements publicitaires</a></li>
</ul>

<h3>Chercher sans publicité</h3>
<p>Lorsque vous souhaitez désactiver la lecture d'annonces pendant que l'utilisateur recherche dans la vidéo, reportez-vous à la <a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai#seek-without-ads">Chercher sans publicité</a> section de la référence SDK.</p>

<h3>Exemple de code</h3>
<p>Voici un exemple de code complet :</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/SSAI/BasicSSAIPlayer">Basic SSAI Player utilisant le SDK natif pour iOS (Objective-C et Swift)</a></li>
</ul>

<h3>Rubriques connexes</h3>
<p>Pour plus de détails, voir ce qui suit :</p>
<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai">Le plugin SSAI pour le SDK natif pour iOS</a></li>
	<!-- <li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai#migrating-onceux-to-ssai">Migrating from the OnceUX plugin</a></li> -->
</ul>
</section>

<section class="bcls-section">
<h2 id="tvOS_implementation">Implémentation de tvOS</h2>

<p>Le code pour implémenter SSAI avec le SDK natif pour tvOS est similaire au <a href="#iOS_implementation">Implémentation iOS</a> dessus.</p>

<h3>Événements</h3>
<p>Pour plus d'informations sur les événements associés à l'insertion d'annonces côté serveur, consultez les éléments suivants :</p>

<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai/blob/master/ios/dynamic/BrightcoveSSAI.framework/Headers/BCOVSSAIConstants.h">Événements SSAI</a></li>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVAdvertising.h">Événements publicitaires</a></li>
</ul>

<h3>Exemple de code</h3>
<p>Voici un exemple de code complet :</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/SSAI/BasicSSAItvOSPlayer">Basic SSAI Player utilisant le SDK natif pour tvOS (Objective-C et Swift)</a></li>
</ul>
</section>

<!-- <section class="bcls-section">
<h2 id="Additional_notes">Additional notes</h2>

<p>There are a few technical notes to be aware of when using SSAI with the Native SDKs.</p>

<h3>Brightcove Native SDK for iOS/tvOS</h3>

<ul>
	<li><strong>Post-rolls:</strong> The OnceUX plugin translates the <code translate="No">timeOffset</code> value of <code translate="No">end</code> on the final ad break (post-roll) to a <code translate="No">CMTime</code> value of <code translate="No">+INFINITY</code>, for speed and efficiency. This translation is done AFTER the VMAP document is received (which occurs after the Playback API response is received) and BEFORE playback begins.</li>
</ul>
</section> -->
</article>