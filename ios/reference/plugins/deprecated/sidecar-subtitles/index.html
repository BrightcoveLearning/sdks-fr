<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>BCOVSidecarRéférence des sous-titres</title>

	<link rel="stylesheet" href="css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title"> <a href="index.html">BCOVSidecarSous-titres </a> </h1>

			<p id="developer-home">
				Brightcove<a href="index.html"></a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="hierarchy.html">Hiérarchie</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">BCOVSidecarRéférence des sous-titres</h1>

					
					<div class="section section-overview index-overview">
						
						
						<h1>Plugin de sous-titres Sidecar pour Brightcove Player SDK pour iOS et tvOS, version 2.1.6.129</h1> <h1>Plateformes prises en charge</h1>

<p>iOS 8.0 et supérieur.</p>

<p>tvOS 9.0 et supérieur.</p>

Installation<h1></h1>

<p>Le plugin Sidecar Subtitles pour Brightcove Player SDK fournit deux packages d'installation pour iOS ; un framework de bibliothèque statique et un framework dynamique. Pour tvOS, le plugin Sidecar Subtitles fournit uniquement un cadre dynamique.</p>

<h2>CocoaPods</h2>

<p>Vous pouvez utiliser <a href="http://cocoapods.org">CocoaPods</a> pour ajouter le plugin Sidecar Subtitles pour Brightcove Player SDK à votre projet. Vous pouvez trouver les dernières <code>Brightcove-Player-SDK-SidecarSous-titres</code> podspec <a href="https://github.com/CocoaPods/Specs/tree/master/Specs/9/5/e/Brightcove-Player-SDK-SidecarSubtitles">ici</a>.</p>

<p>Spécification du pod par défaut <code>Brightcove-Player-SDK-SidecarSous-titres</code> installera le framework de bibliothèque statique. Pour installer le framework dynamique, déclarez le pod avec le <code>dynamique</code> sous-spéc. : <code>Brightcove-Player-SDK-SidecarSous-titres/dynamique</code></p>

<p>Exemple de cadre statique :</p>

<pre><code>pod 'Brightcove-Player-SDK-SidecarSous-titres' </code></pre>

<p>Exemple de cadre dynamique :</p>

<pre><code>pod 'Brightcove-Player-SDK-SidecarSous-titres/dynamique' </code></pre>

<p>Le maintien d'un référentiel maître podspec à jour est nécessaire pour garantir que vous utilisez toujours les dernières versions du logiciel Brightcove. Depuis CocoaPods 1.0.0, les mises à jour du référentiel podspec ne sont plus une fonctionnalité automatique, donc pour mettre à jour votre référentiel maître, exécutez ce qui suit sur la ligne de commande :</p>

<pre><code>mise à jour du dépôt de pod </code></pre>

<h2>Manuel</h2>

<p>Pour ajouter manuellement le plug-in Sidecar Subtitles pour Brightcove Player SDK à votre projet :</p>

<ol>
<li>Installez la dernière version du <a href="https://github.com/brightcove/brightcove-player-sdk-ios">Kit de développement logiciel Brightcove Player</a>.</li>
<li>Téléchargez la dernière version zippée du plugin BrightcoveSidecarSubtitles depuis notre <a href="https://github.com/brightcove/brightcove-player-sdk-ios-sidecarsubtitles/releases">page de publication</a>.</li>
<li>Ajouter <code>BrightcoveSidecarSubtitles.framework</code> à votre projet.</li>
<li>Sur le &ldquo;Paramètres de construction&rdquo; de l'onglet cible de votre application, assurez-vous que le &ldquo;Chemins de recherche du framework&rdquo; inclure le chemin d'accès au cadre. Cela aurait dû être fait automatiquement à moins que le framework ne soit stocké dans un répertoire racine différent de celui de votre projet.</li>
<li>(Dynamic Framework uniquement) Sur le &ldquo;Général&rdquo; onglet de votre application cible, ajoutez &lsquo;BrightcoveSidecarSubtitles.framework&rsquo; à la &ldquo;Binaires embarqués&rdquo; section.</li>
<li>(Dynamic Framework uniquement) Sur le &ldquo;Phases de construction&rdquo; onglet, ajoutez un &ldquo;Script de lancement&rdquo; phase avec la commande <code>coup ${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/BrightcoveSidecarSubtitles.framework/strip-frameworks.sh</code>. Vérifier &ldquo;Exécuter le script uniquement lors de l'installation&rdquo;. Cela supprimera les architectures inutiles de la construction, ce qui est important pour la soumission App Store.</li>
<li>(Cadre statique uniquement) Sur le &ldquo;Paramètres de construction&rdquo; onglet de votre application cible, ajoutez <code>-ObjC</code> à la &ldquo;Autres indicateurs de liens&rdquo; paramètre de construction.</li>
</ol>


<h2>Importations</h2>

<p>Le Brightcove Player SDK pour iOS peut être importé dans le code de différentes manières :</p>

<ul>
<li>@import BrightcoveSidecarSubtitles;<code></code></li>
<li>#import &lt;BrightcoveSidecarSubtitles/BrightcoveSidecarSubtitles.h&gt;<code></code></li>
<li><code>#import &lt;BrightcoveSidecarSubtitles/[classe spécifique].h&gt;</code>.</li>
</ul>


<h1>Démarrage rapide</h1>

<pre><code> NSString *policyKey = &lt;votre-clé-politique&gt; ; NSString *accountId = &lt;your-account-id&gt;; NSString *videoID = &lt;votre-vidéo-id&gt; ; BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManagersharedManager] ; [1] id&lt;BCOVPlaybackController&gt; controller = [playbackManager createSidecarSubtitlesPlaybackControllerWithViewStrategy:nil] ; [self.view addSubview:controller.view] ; BCOVPlaybackService *playbackService = [[BCOVPlaybackService alloc] initWithAccountId:accountId policyKey:policyKey]; [2] [playbackService findVideoWithVideoID:videoID parameters:nil achèvement:^(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error) { [controller setVideos:@[ video ]]; [controller play]; } ; </code></pre>

<p>BCOVSidecarSubtitles ajoute quelques méthodes de catégorie à BCOVPlaybackManager. Le premier d'entre eux est <code>-createSidecarSubtitlesPlaybackControllerWithViewStrategy :</code>. Utilisez cette méthode pour créer votre contrôleur de lecture. Alternativement (si vous utilisez plus d'un fournisseur de session), vous pouvez créer un BCOVSSSessionProvider et le transmettre à la méthode du gestionnaire qui crée un contrôleur de lecture avec des fournisseurs de session en amont.* Si vous développez pour tvOS, la ViewStrategy transmise à createSidecarSubtitlesPlaybackControllerWithViewStrategy doit être néant.</p>

<p>* Noter que <code>BCOVSSSessionProvider</code> doit venir avant tous les fournisseurs de session de la chaîne transmis au gestionnaire lors de la construction du contrôleur de lecture. Ce plugin est <strong>pas compatible</strong> avec le plugin Widevine.</p>

<p>Si vous avez des questions ou avez besoin d'aide, visitez le forum d'assistance pour les SDK Brightcove Native Player à l'adresse <a href="https://groups.google.com/forum/">https://groups.google.com/forum/</a>#!forum/brightcove-native-player-sdks .</p>

<h2>Utilisation des commandes PlayerUI intégrées</h2>

<p>L'extrait de code ci-dessus présente un lecteur vidéo sans aucun contrôle. Vous pouvez ajouter des contrôles de lecture à votre code comme ceci.</p>

<p>Ajoutez une propriété pour garder une trace de <code>BCOVPUIPlayerView</code>:</p>

<pre><code>// Vue du joueur de PlayerUI @property (non atomique) BCOVPUIPlayerView *playerView; </code></pre>

<p>Créer le <code>BCOVPUIBasicControlView</code> , puis le <code>BCOVPUIPlayerView</code>. C'est ici que nous associons le Playback Controller (et donc toutes les vidéos qu'il lit) aux commandes. Définissez la vue du lecteur pour qu'elle corresponde au conteneur vidéo de votre mise en page (<code>votreVidéoView</code> ) lorsqu'il est redimensionné.</p>

<pre><code>BCOVPUIBasicControlView *controlView = [BCOVPUIBasicControlView basicControlViewWithVODLayout]; self.playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:options du contrôleur:nil controlView:controlView]; // Correspond à la taille de la vue parente self.playerView.frame = self.yourVideoView.bounds; self.playerView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth; // Ajoutez BCOVPUIPlayerView à votre vue vidéo. [self.yourVideoView addSubview:self.playerView] ; </code></pre>

<p>Si vous utilisez BCOVPUIPlayerView, vous devez également supprimer une ligne au-dessus :</p>

<pre><code>[self.view addSubview:controller.view] ; // plus nécessaire lors de l'utilisation de PlayerUI </code></pre>

<p>Si vous souhaitez réutiliser le lecteur avec un autre contrôleur de lecture, vous pouvez simplement effectuer une nouvelle affectation :</p>

<pre><code>self.playerView.playbackController = otherPlaybackController; </code></pre>

<p>La vue du lecteur ajoutera automatiquement le contrôleur de lecture&rsquo;s à sa propre hiérarchie de vues.</p>

<p>Veuillez consulter le SDK Brightcove Native Player&rsquo;s README pour plus d'informations sur l'ajout et la personnalisation des commandes PlayerUI dans votre application.</p>

<p>Si vous avez des questions ou besoin d'aide, visitez le <a href="https://groups.google.com/forum/#!forum/brightcove-native-player-sdks">Forum d'assistance du kit de développement logiciel Brightcove Native Player</a>.</p>

<h1>Remplissage manuel des données de sous-titres</h1>

<p>Le plugin BCOVSidecarSubtitle recherchera la présence d'un tableau de métadonnées de sous-titres dans le <code>BCOVVidéo</code> propriétés de l'objet, saisies par <code>kBCOVSSVideoPropertiesKeyTextTracks</code>. Si vous utilisez <code>BCOVPlaybackService</code> pour récupérer des vidéos et ces vidéos ont des pistes de texte qui leur sont associées, cela sera rempli automatiquement.</p>

<p>Si vous fournissez vos propres vidéos ou êtes un client Perform, vous devrez structurer les données comme indiqué ci-dessous :</p>

<pre><code>NSArray *sous-titres = @[ @{ kBCOVSSTextTracksKeySource: ..., // required kBCOVSSTextTracksKeySourceLanguage: ..., // required kBCOVSSTextTracksKeyLabel: ..., // required kBCOVSSTextTracksKeyDuration: ..., // required/optional [1] kBCOVSSTextTracksKeyKind: kBCOVSSTextTracksKindSubtitles or kBCOVSSTextTracksKindCaptions, // required kBCOVSSTextTracksKeyDefault: ..., // optional kBCOVSSTextTracksKeyMIMEType: ..., // optional } , @{...} , // deuxième dictionnaire de piste de texte @{...} , // troisième dictionnaire de pistes de texte ]; BCOVVideo *video = [BCOVVideo alloc] initWithSource:&lt;source&gt; cuePoints:&lt;cuepoints&gt; properties:@{ kBCOVSSVideoPropertiesKeyTextTracks:subtitles } ; </code></pre>

<p>Les <code>kBCOVSSTextTracksKeySource</code> key contient l'URL source de votre piste de sous-titres et peut être fournie sous forme d'URL WebVTT ou d'URL de liste de lecture M3U8.</p>

<p>Les fichiers WebVTT doivent avoir un &ldquo;.vtt&rdquo; et les fichiers M3U8 doivent avoir une &ldquo;.M3U8&rdquo; extension. Si vous ne pouvez pas suivre ces conventions, vous devez inclure un <code>kBCOVSSTextTracksKeySourceType</code> clé, et spécifiez soit <code>kBCOVSSTextTracksKeySourceTypeWebVTTURL</code> ou <code>kBCOVSSTextTracksKeySourceTypeM3U8URL</code> pour indiquer le type de fichier référencé par l'URL.</p>

<p>Si vous fournissez des pistes à une vidéo récupérée de Video Cloud, vous devez <strong>ajouter</strong> vos sous-titres à toutes les pistes existantes plutôt que <strong>écrasement</strong> eux. Ce code montre comment ajouter des pistes à une vidéo existante :</p>

<pre><code>BCOVVideo *updatedVideo = [mise à jour vidéo :^(id&lt;BCOVMutableVideo&gt; mutableVideo) { // Save the current tracks NSArray *originalTracks = video.properties[kBCOVSSVideoPropertiesKeyTextTracks]; // Create your text track dictionary NSArray *subtitles = @[ @{ kBCOVSSTextTracksKeySource: ..., // required kBCOVSSTextTracksKeySourceLanguage: ..., // required kBCOVSSTextTracksKeyLabel: ..., // required kBCOVSSTextTracksKeyDuration: ..., // required/optional [1] kBCOVSSTextTracksKeyKind: kBCOVSSTextTracksKindSubtitles or kBCOVSSTextTracksKindCaptions, // required kBCOVSSTextTracksKeyDefault: ..., // optional kBCOVSSTextTracksKeyMIMEType: ..., // optional } , @{...} , // deuxième dictionnaire de piste de texte @{...} , // troisième dictionnaire de pistes de texte ]; // Ajoute de nouvelles pistes aux pistes d'origine, le cas échéant NSArray *combinedTextTracks = ((originalTracks != nil) ? [originalTracks arrayByAddingObjectsFromArray:subtitles] : subtitles); // Mettre à jour le dictionnaire actuel (nous ne voulons pas perdre les propriétés déjà présentes) NSMutableDictionary *updatedDictionary = [mutableVideo.properties mutableCopy]; // Stocke les pistes de texte dans la propriété de pistes de texte updatedDictionary[kBCOVSSVideoPropertiesKeyTextTracks] = combineTextTracks; mutableVideo.properties = updatedDictionary; }] ; </code></pre>

<h1>Remarques</h1>

<ul>
<li><code>kBCOVSSTextTracksKeyDuration</code> est une clé obligatoire si vous utilisez des fichiers de sous-titres avec une extension .vtt. <code>kBCOVSSTextTracksKeyDuration</code> est une clé facultative si vous utilisez des fichiers de légende avec une extension .m3u8.</li>
</ul>


<p>Veuillez vous référer à la documentation du code dans le fichier d'en-tête BCOVSSComponent.h pour plus d'informations sur l'utilisation de ces clés.</p>

<h1>Problèmes connus</h1>

<ul>
<li><p>Les sous-titres ne seront pas affichés lors de la visualisation de vidéos à 360 degrés.</p></li>
<li><p>Ce plugin ne prend actuellement pas en charge l'intégration avec le plugin Widevine pour Brightcove Brightcove Player SDK pour iOS.</p></li>
<li><p>Lors de la récupération de vos vidéos à partir de l'API de lecture Brightcove, vos rendus doivent inclure une liste de lecture principale M3U8. Le plugin Sidecar Subtitle ne fonctionne pas avec les listes de lecture M3U8 à rendu unique.</p></li>
<li><p>Si vous fournissez une liste de lecture de sous-titres au plug-in et que cette liste de lecture de sous-titres inclut des liens vers des fichiers Web vtt qui répondent en 404, la lecture échouera. C'est un bug dans Apple&rsquo;s AVPlayer.</p></li>
</ul>

						
						
					</div>
					

					<div class="index-container">
						

						

						
						<div class="index-column">
							

							

							
							<h2 class="index-title">Références de catégorie</h2>
							<ul>
								
								<li>BCOVPlayerSDKManager(BCOVSSAdditions)<a href="Categories/BCOVPlayerSDKManager+BCOVSSAdditions.html"></a></li>
								
								<li><a href="Categories/BCOVPlayerSDKManager+BCOVSSAdditionsDepricated.html">BCOVPlayerSDKManager(BCOVSSAdditionsDésolé)</a></li>
								
							</ul>
							
						</div>
						
					</div>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">droits d'auteur &copy; 2017 Brightcove. Tous les droits sont réservés. Mis à jour: 2017-01-30</p>
							
							
							<p class="generator">Généré par <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="js/script.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/support-feedback.js"></script><script src="https://support.brightcove.com/site-assets/js/site/feedback-docs.js"></script>
</body>
</html>