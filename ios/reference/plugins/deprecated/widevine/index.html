<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Référence BCOVWidevine</title>

	<link rel="stylesheet" href="css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title"> <a href="index.html">BCOVWidevine </a> </h1>

			<p id="developer-home">
				Brightcove<a href="index.html"></a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="hierarchy.html">Hiérarchie</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">Référence BCOVWidevine</h1>

					
					<div class="section section-overview index-overview">
						
						
						<h1>Plugin Widevine pour Brightcove Player SDK pour iOS, version 2.1.4.358</h1> <h1>Plateformes prises en charge</h1>

<p>iOS 8.0 et 9.0. <strong>Widevine ne fonctionnera pas sur le simulateur iOS.</strong></p>

<h1>Important - Veuillez noter</h1>

<p>Le plugin Widevine pour Brightcove Player SDK pour iOS est <strong>obsolète</strong>.</p>

Installation<h1></h1>

<p>Le plugin Widevine pour Brightcove Player SDK fournit un cadre de bibliothèque statique pour l'installation.</p>

<h2>CocoaPods</h2>

<p>Vous pouvez utiliser <a href="http://cocoapods.org">Cocopodes</a> pour ajouter le plug-in Widevine pour Brightcove Player SDK à votre projet. Vous pouvez trouver les dernières <code>Brightcove-Player-SDK-Widevine</code> podspec <a href="https://github.com/brightcove/BCOVSpecs/tree/master/Brightcove-Player-SDK-Widevine">ici</a>. Pour utiliser cette spécification, ajoutez ce qui suit en haut de Podfile :<code>la source '</code>https://github.com/brightcove/BCOVSpecs.git'<code></code> ou courir <code>pod repo ajouter BCOVSpecs </code>https://github.com/brightcove/BCOVSpecs.git<code></code>. CocoaPods 0.39 ou plus récent est requis.</p>

<p>Le SDK Widevine <strong>n'est pas</strong> inclus dans ce module. Tu <strong>doit</strong> ajoutez manuellement la bibliothèque Widevine à votre projet même lorsque vous utilisez Cocoapods. Le pod ajoutera cependant toutes les bibliothèques requises par la bibliothèque Widevine telles que <code>libc++</code> , <code>libxml2</code> , <code>libresolv</code> , <code>libSystem</code> , et <code>libz</code>. <strong>Veuillez contacter l'assistance Brightcove pour accéder à la bibliothèque Widevine.</strong></p>

<p>Pour installer manuellement la bibliothèque Widevine :</p>

<ol>
<li>Demandez la bibliothèque Widevine au support Brightcove.</li>
<li>Ajoutez le contenu du package à votre projet.</li>
<li>Sur le &ldquo;Phases de construction&rdquo; de l'onglet cible de votre application, ajoutez ce qui suit à la &ldquo;Lier le binaire avec les bibliothèques&rdquo; phase:

<ul>
<li>libWViPhoneAPI.a<code></code></li>
</ul>
</li>
<li>Sur le &ldquo;Paramètres de construction&rdquo; onglet de votre application cible :

<ul>
<li>Assurez-vous que les en-têtes Widevine sont dans votre application&rsquo;s &ldquo;Chemin de recherche d'en-tête&rdquo;.</li>
<li>Veiller à ce que <code>-ObjC</code> a été ajouté au &ldquo;Autres indicateurs de liens&rdquo; paramètre de construction.</li>
</ul>
</li>
</ol>


<p>Exemple de cadre statique :</p>

<pre><code>source 'https://github.com/CocoaPods/Specs.git' source 'https://github.com/brightcove/BCOVSpecs.git' pod 'Brightcove-Player-SDK-Widevine' </code></pre>

<h2>Manuel</h2>

<p>Pour ajouter manuellement le plug-in Widevine pour Brightcove Player SDK à votre projet :</p>

<ol>
<li>Installez la dernière version du <a href="https://github.com/brightcove/brightcove-player-sdk-ios">Kit de développement logiciel Brightcove Player</a>.</li>
<li>Téléchargez la dernière version zippée du plugin depuis notre <a href="https://github.com/brightcove/brightcove-player-sdk-ios-widevine/releases">page de publication</a>.</li>
<li>Demandez la bibliothèque Widevine au support Brightcove et ajoutez-la à votre projet.</li>
<li>Ajouter le &lsquo;BrightcoveWidevine.framework&rsquo; à votre projet.</li>
<li>Sur le &ldquo;Paramètres de construction&rdquo; de l'onglet cible de votre application, assurez-vous que le &ldquo;Chemins de recherche du framework&rdquo; inclure le chemin d'accès au cadre. Cela aurait dû être fait automatiquement à moins que le framework ne soit stocké dans un répertoire racine différent de celui de votre projet.</li>
<li>Sur le &ldquo;Phases de construction&rdquo; de l'onglet cible de votre application, ajoutez ce qui suit à la &ldquo;Lier le binaire avec les bibliothèques&rdquo; phase:

<ul>
<li>BrightcoveWidevine.framework<code></code></li>
<li>libWViPhoneAPI.a<code></code></li>
<li>libc++<code></code></li>
<li>libxml2<code></code></li>
<li>libresolv<code></code></li>
<li>libSystem<code></code></li>
<li>libz<code></code></li>
</ul>
</li>
<li>Sur le &ldquo;Paramètres de construction&rdquo; onglet de votre application cible :

<ul>
<li>Veiller à ce que <code>-ObjC</code> a été ajouté au &ldquo;Autres indicateurs de liens&rdquo; paramètre de construction.</li>
<li>Assurez-vous que les en-têtes Widevine sont dans votre application&rsquo;s &ldquo;Chemin de recherche d'en-tête&rdquo;.</li>
</ul>
</li>
</ol>


<h1>Démarrage rapide</h1>

<pre><code> NSString *jeton ; // (Jeton API Brightcove Media avec accès URL) NSString *playlistID; // (ID de la liste de lecture que vous souhaitez utiliser) BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager]; [1] id&lt;BCOVPlaybackController&gt; controller = [playbackManager createWidevinePlaybackControllerWithViewStrategy:nil]viewStrategy:nil] ; [self.view addSubview:controller.view] ; BCOVCatalogService *catalog = [[BCOVCatalogService alloc] initWithToken:token]; [2] [catalogue findWidevinePlaylistWithPlaylistID:playlistID parameters:nil achèvement:^(BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error) { [controller setVideos:playlist]; [controller play]; } ; </code></pre>

<p>Laisser&rsquo;s décomposez ce code en étapes, pour le rendre un peu plus simple à digérer :</p>

<ol>
<li>BCOVWidevine ajoute quelques méthodes de catégorie à BCOVPlaybackManager. Le premier d'entre eux est <code>-createWidevinePlaybackControllerWithViewStrategy</code>. Utilisez cette méthode pour créer votre contrôleur de lecture. Alternativement (si vous utilisez plus d'un fournisseur de session), vous pouvez créer un <a href="Classes/BCOVWidevineSessionProvider.html">BCOVWidevineSessionProvider</a> et transmettez-le à la méthode du gestionnaire qui crée un contrôleur de lecture avec les fournisseurs de session en amont.*</li>
<li>BCOVWidevine ajoute des méthodes de catégorie à BCOVPlaybackManager pour récupérer les rendus Widevine du catalogue.</li>
</ol>


<p>* Notez que BCOVWidevineSessionProvider doit être placé avant tout fournisseur de session publicitaire de la chaîne transmis au gestionnaire lors de la construction du contrôleur de lecture.</p>

<p>Si vous avez des questions ou avez besoin d'aide, nous avons un forum d'assistance pour Brightcove&rsquo;s SDK de lecteur natifs à <a href="https://groups.google.com/forum/">https://groups.google.com/forum/</a>#!forum/brightcove-native-player-sdks .</p>

<h1>Personnalisation du comportement du plugin</h1>

<p>Vous pouvez personnaliser le comportement du plugin par défaut en créant une instance de <a href="Classes/BCOVWidevineSessionProviderOptions.html"><code>BCOVWidevineSessionProviderOptions</code></a> et en remplaçant les propriétés par défaut. Pour utiliser un <code>BCOVWideSessionProviderOptions</code> l'instance d'options, vous devez créer le <code>BCOVWideSessionProvider</code> à l'aide de <code>[BCOVSDKManager createWidevineSessionProviderWithOptions :]</code>.</p>

<pre><code> BCOVWidevineSessionProviderOptions *options = [[BCOVWidevineSessionProviderOptions alloc] init]; options.widevineSettings = @{ WVPlayerDrivenAdaptationKey: @0 } ; id&lt;BCOVPlaybackSessionProvider&gt; sessionProvider = [playbackManager createWidevineSessionProviderWithOptions:options]; id&lt;BCOVPlaybackController&gt; playbackController = [playbackManager createPlaybackControllerWithSessionProvider:sessionProvider viewStrategy:nil]; </code></pre>

<h2>Sélection de la source (WVM, HTTP/HTTP)</h2>

<p>Le Brightcove Player SDK pour iOS offre aux clients la possibilité de joindre plusieurs types d'URL et de diffusion (<code>Source BCOV</code> ) à une seule vidéo (<code>BCOVVidéo</code>). Par exemple, si vos vidéos sont récupérées par le catalogue ou le service de lecture, il peut y avoir un mélange de rendus WVM, HLS ou MP4 pour une seule vidéo, ainsi que des versions HTTP et HTTPs. Laquelle de ces sources sélectionnées est déterminée par un bloc de sélection de source. La politique de sélection de source par défaut utilisée par le plugin Widevine sélectionne le premier Widevine <code>Source BCOV</code> sur chaque <code>BCOVVidéo</code> , quel que soit le régime.</p>

<p>La sélection de la source peut être remplacée en créant un <a href="Classes/BCOVWidevineSessionProviderOptions.html"><code>BCOVWidevineSessionProviderOptions</code></a> et l'utiliser pour créer un <a href="Classes/BCOVWidevineSessionProvider.html"><code>BCOVWidevineSessionProvider</code></a>. Par exemple:</p>

<pre><code>BCOVPlayerSDKManager *sdkManager = [BCOVPlayerSDKManagersharedManager] ; BCOVWidevineSessionProviderOptions *options = [[BCOVWidevineSessionProviderOptions alloc] init]; options.sourceSelectionPolicy = &lt;policy&gt; id&lt;BCOVWidevineSessionProvider&gt; provider = [sdkManager createWidevineSessionProviderWithOptions:options]; id&lt;BCOVPlaybackController&gt; playController [sdkManager createPlaybackControllerWithSessionProvider:provider viewStrategy:nil] ; </code></pre>

<p>Si cette politique de sélection par défaut ne fonctionne pas pour vous, il existe quelques alternatives à la sélection d'une source :</p>

<ul>
<li><p>Si vous récupérez des vidéos de Video Cloud via le service de catalogue ou le service de lecture, avant d'appeler <code>[BCOVPlaybackController setVidéos :]</code> , utilisez la méthode de mise à jour sur le <code>BCOVVidéo</code> pour ne contenir que la source que vous voulez (voir le &ldquo;Valeurs&rdquo; rubrique pour plus d'informations).</p></li>
<li><p>Si vous préférez les sources HTTPS, le plugin Widevine fournit des options supplémentaires pour sélectionner des sources Widevine avec un schéma particulier. <code>[BCOVWidevineSourceSelectionPolicy sourceSelectionWidevineWithScheme:kBCOVSourceURLSchemeHTTPS]</code> fournit une politique de sélection de source qui préfère les sources Widevine utilisant HTTPS. Cela ne convertira pas les URL non HTTP en URL HTTP. Si vous choisissez de sélectionner les HTTP, assurez-vous que votre CDN est configuré pour les HTTP. Si le CDN est configuré pour les HTTP, utilisez <code>BCOVPlaybackService</code> à la place de <code>BCOVCatalogService</code> pour récupérer les métadonnées de la vidéo/liste de lecture.</p></li>
<li><p>Semblable à la mise à jour de l'objet vidéo, vous pouvez également implémenter votre propre bloc de sélection de source.</p>

<pre><code> options.sourceSelectionPolicy = ^ BCOVSource *(BCOVVideo *video) { &lt;Vérifiez video.sources pour la source&gt; </code></pre></li>
</ul>

						
						
					</div>
					

					<div class="index-container">
						

						
						<div class="index-column">
							<h2 class="index-title">Références de classe</h2>
							<ul>
								
								<li>BCOVWidevineSessionProvider<a href="Classes/BCOVWidevineSessionProvider.html"></a></li>
								
								<li>BCOVWidevineSessionProviderOptions<a href="Classes/BCOVWidevineSessionProviderOptions.html"></a></li>
								
								<li><a href="Classes/BCOVWidevineSourceSelectionPolicy.html">BCOVWidevineSourceSelectionPolitique</a></li>
								
							</ul>
						</div>
						

						
						<div class="index-column">
							

							

							
							<h2 class="index-title">Références de catégorie</h2>
							<ul>
								
								<li><a href="Categories/BCOVCatalogService+BCOVWidevineAdditions.html">BCOVCatalogService (BCOVWidevineAdditions)</a></li>
								
								<li><a href="Categories/BCOVCatalogService+BCOVWidevineImperativeCallbacks.html">BCOVCatalogService (BCOVWidevineImperativeCallbacks)</a></li>
								
								<li><a href="Categories/BCOVPlayerSDKManager+BCOVWidevineAdditions.html">BCOVPlayerSDKManager (BCOVWidevineAdditions)</a></li>
								
							</ul>
							
						</div>
						
					</div>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">droits d'auteur &copy; 2017 Brightcove. Tous les droits sont réservés. Mis à jour: 2017-01-26</p>
							
							
							<p class="generator">Généré par <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="js/script.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/support-feedback.js"></script><script src="https://support.brightcove.com/site-assets/js/site/feedback-docs.js"></script>
</body>
</html>