---
title: 'Travailler avec App Transport Security (ATS)' la
description: Dans cette rubrique, vous apprendrez à utiliser App Transport Security.
parent: Framework 
grandparent: iOS Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Aperçu</h2>

<p>Avec la sortie d'iOS 9, Apple a introduit une nouvelle fonctionnalité appelée <a href="https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/">Sécurité du transport des applications (ATS)</a> qui applique des connexions sécurisées entre une application et des services Web. Dans un avenir proche, toutes les applications de l'App Store devront avoir activé ATS, à moins que vous ne fournissiez une justification raisonnable des exceptions ATS, dans le cadre du processus d'examen des applications.</p>

<aside class="bcls-aside bcls-aside--warning">Bientôt, toutes les applications de l'App Store devront utiliser App Transport Security. Vous ne pourrez plus désactiver ATS pour les applications App Store.
<ul>
	<li>Pour plus de détails, consultez le <a href="https://techcrunch.com/2016/06/14/apple-will-require-https-connections-for-ios-apps-by-the-end-of-2016/">Apple exigera des connexions HTTPS pour les applications iOS d'ici la fin de 2016</a> document.</li>
	<li>Suivre <a href="https://developer.apple.com/news/#article-12212016b">Actualités et mises à jour d'Apple</a> pour savoir quand l'ATS sera nécessaire.</li>
</ul>
</aside>

<p>Les restrictions ATS s'appliquent aux applications qui ciblent iOS 9.0 et versions ultérieures. Les applications existantes dans l'App Store ne seront pas affectées, mais vous devrez appliquer des restrictions ATS lorsque vous publierez de nouvelles applications ou mettez à jour vos applications existantes.</p>

<p>L'écosystème Brightcove prend en charge les restrictions ATS. Dans la plupart des cas, vous devez créer vos applications avec ATS activé. Si vous avez besoin de vous connecter à des URL non sécurisées, vous pouvez soumettre vos exceptions ATS ainsi qu'une justification à l'examen de l'App Store d'Apple.</p>

<p>Choisissez soit :</p>

<ul>
	<li><a href="#Building_Apps_with_ATS_Enabled">Création d'applications avec ATS activé</a></li>
	<li><a href="#Using_ATS_exceptions">Utilisation des exceptions ATS</a></li>
</ul>

<p>En dernier recours, vous pouvez désactiver les exigences ATS. Gardez à l'esprit que cette option va bientôt disparaître.</p>

<ul>
	<li><a href="#Disabling_ATS_requirements">Désactivation des exigences ATS</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Building_Apps_with_ATS_Enabled">Création d'applications avec ATS activé</h2>

<p>Si vous utilisez des connexions sécurisées via HTTPS entre votre application et les services Web, vous pouvez activer App Transport Security pour votre application.</p>

<aside class="bcls-aside bcls-aside--tip">Une connexion sécurisée telle que définie par ATS inclut TLS v1.2, la confidentialité de transmission et les certificats SHA-2. Pour les spécifications complètes, consultez le <a href="https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW35">Conditions requises pour la connexion à l'aide d'ATS</a> document.</aside>

<p>Pour créer vos applications avec ATS activé, procédez comme suit :</p>

<ol class="bcls-tasklist">
	<li>Activez votre CDN pour une communication sécurisée.
	<ul>
		<li>
		<p>Les clients de Video Cloud (que vous utilisiez le CDN maison ou un CDN nommé) doivent contacter leurs responsables de compte Brightcove pour s'assurer que les comptes sont configurés pour fournir via HTTPS.</p>
		</li>
		<li>
		<p>Pour ceux qui utilisent des ressources distantes, vous devrez peut-être configurer votre CDN de manière appropriée.</p>
		</li>
	</ul>
	</li>
	<li>
	<p>Utilisez une communication sécurisée pour diffuser votre contenu multimédia. Cela inclut les vidéos, les publicités, les légendes, les images d'affiches, les vignettes et d'autres connexions API tierces.</p>

	<ul>
		<li>
		<p>Clients de Video Cloud : Utilisez l'API Playback pour récupérer le protocole sécurisé pour chacun de vos actifs.</p>

		<aside class="bcls-aside bcls-aside--tip">Par défaut, le Brightcove Native SDK pour iOS utilise une politique de sélection de source pour choisir les sources HTTPS plutôt que HTTP, afin que vous puissiez créer vos applications avec ATS activé.</aside>
		</li>
		<li>
		<p>Clients Brightcove Player : Assurez-vous que votre contenu multimédia est diffusé via HTTPS.</p>
		</li>
	</ul>
	</li>
	<!-- <li><p>In your Xcode projects, update the source selection policy to use HTTPS.</p>
						<p>Here is a code example:</p>
            <pre class="line-numbers" data-start="1"><code class="language-swift" translate="No">- (void)setup
{
  BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];

  <span class="bcls-highlight">BCOVBasicSessionProviderOptions *options = [[BCOVBasicSessionProviderOptions alloc] init];
  options.sourceSelectionPolicy = [BCOVBasicSourceSelectionPolicy sourceSelectionHLSWithScheme:kBCOVSourceURLSchemeHTTPS];
  id&lt;BCOVPlaybackSessionProvider&gt; provider = [manager createBasicSessionProviderWithOptions:options];
  _playbackController = [manager createPlaybackControllerWithSessionProvider:provider viewStrategy:[manager defaultControlsViewStrategy]];
}</span></code></pre>

						<p>For details, see the <strong>Source Selection</strong> section of the <a href="https://github.com/brightcove/brightcove-player-sdk-ios#source-selection-hls-mp4-httphttps">Brightcove Player SDK for iOS</a> notes.</p>
            </li> -->
</ol>
</section>

<section class="bcls-section">
<h2 id="Using_ATS_exceptions">Utilisation des exceptions ATS</h2>

<p>Si vous devez utiliser des connexions non sécurisées entre votre application et les services Web, vous pouvez essayer d'utiliser les exceptions ATS. Gardez à l'esprit que la raison des exigences ATS est de garantir aux utilisateurs un bon niveau de sécurité lors de l'utilisation de votre application. Assurez-vous donc que votre application ne peut pas utiliser de connexions sécurisées avant de creuser dans les exceptions ATS.</p>

<p>Il existe des clés spécifiques que vous pouvez utiliser pour contourner les exigences ATS. Ces exceptions déclencheront un examen supplémentaire de l'App Store et nécessiteront que vous fournissiez une justification raisonnable. Pour plus de détails, consultez le <a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW59">Examen de l'App Store pour ATS</a> document.</p>

<p>Notez que vous pourrez peut-être obtenir une justification pour une exception pour un contenu déjà crypté (c'est-à-dire FairPlay), mais gardez à l'esprit qu'il est préférable d'utiliser HTTPS lorsque cela est possible.</p>
</section>

<section class="bcls-section">
<h2 id="Disabling_ATS_requirements">Désactivation des exigences ATS</h2>

<p>Lors de la création d'applications qui ciblent le SDK iOS 9 ou version ultérieure, vous pouvez choisir de désactiver ATS. Suivez ces étapes pour désactiver les exigences ATS dans votre application :</p>

<aside class="bcls-aside bcls-aside--warning">Bientôt, toutes les applications de l'App Store devront utiliser App Transport Security. Vous ne pourrez plus désactiver ATS pour les applications App Store.
<ul>
	<li>Pour plus de détails, consultez le <a href="https://techcrunch.com/2016/06/14/apple-will-require-https-connections-for-ios-apps-by-the-end-of-2016/">Apple exigera des connexions HTTPS pour les applications iOS d'ici la fin de 2016</a> document.</li>
	<li>Suivre <a href="https://developer.apple.com/news/#article-12212016b">Actualités et mises à jour d'Apple</a> pour savoir quand l'ATS sera nécessaire.</li>
</ul>
</aside>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Dans Xcode, faites un clic droit sur le <strong>Info.plist</strong> fichier et ouvrez-le en tant que <strong>Code source</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Source code info.plist" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/guides/ats/source-code.png" />
	<figcaption class="bcls-caption--image">Code source info.plist</figcaption>
	</figure>
	</li>
	<li>
	<p>Copiez le code suivant :</p>

	<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
&lt;dict&gt;
    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;
    &lt;true/&gt;
&lt;/dict&gt;</code></pre>
	</li>
	<li>
	<p>Dans le <strong>Info.plist</strong> dossier, avant la clôture <code translate="No">&lt;/dict&gt;</code> tag, collez le code ci-dessus.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Allow arbitrary loads" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/guides/ats/allow-loads.png" />
	<figcaption class="bcls-caption--image">Autoriser les charges arbitraires</figcaption>
	</figure>
	</li>
	<li>
	<p>Dans Xcode, lorsque vous ouvrez le <strong>Info.plist</strong> fichier en tant que <strong>Liste des propriétés</strong> , vous devriez maintenant voir cette entrée dans le dictionnaire plist.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="ATS disabled" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/guides/ats/ats-disabled.png" />
	<figcaption class="bcls-caption--image">ATS désactivé</figcaption>
	</figure>
	</li>
</ol>
<!-- <p><code data-gist-id="d27e3a0e5343da1eb6dcf6e7af2ca58b" data-gist-line="24-28" data-gist-hide-footer="true"></code></p> -->

<p>La désactivation d'ATS ne modifie pas les connexions HTTPS existantes. Cela empêche simplement iOS d'appliquer des exigences de sécurité supplémentaires sur votre communication http.</p>
<!-- <p>You may also try whitelisting certain domains to disable ATS requirements. For details, see the <a href="https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33">NSAppTransportSecurity</a> document.</p> --></section>

<section class="bcls-section">
<h2 id="Additional_Resources">Ressources additionnelles</h2>

<ul>
	<li>Forum des développeurs Apple : <a href="https://forums.developer.apple.com/thread/48979">Sécurité du transport de l'application requise janvier 2017</a></li>
	<li>Forum des développeurs Apple : <a href="https://forums.developer.apple.com/message/15705#15705">Mise à jour de la sécurité du transport des applications</a></li>
</ul>
</section>
</article>